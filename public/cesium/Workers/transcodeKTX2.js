import{a as e}from"./chunk-D2NFCOGE.js";import{a as t}from"./chunk-4WJUWBRK.js";import{a as r}from"./chunk-5G23AKP3.js";import{b as n}from"./chunk-NOIUI5SY.js";import{a as _,c as i,d as o,e as a}from"./chunk-XRRBRTKL.js";var s=i((e,t)=>{var r,n=(r="u">typeof document&&document.currentScript?document.currentScript.src:void 0,"u">typeof __filename&&(r=r||__filename),function(e){var t,n,i="u">typeof(e=e||{})?e:{};i.ready=new Promise(function(e,r){t=e,n=r});var o,a={};for(o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);var s=[],u=!1,R=!1,c=!1,T=!1;u="object"==typeof window,R="function"==typeof importScripts,c="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,T=!u&&!c&&!R;var f="";c?(f=R?_("path").dirname(f)+"/":__dirname+"/",O=function(e,t){return B||(B=_("fs")),C||(C=_("path")),e=C.normalize(e),B.readFileSync(e,t?null:"utf8")},d=function(e){var t=O(e,!0);return t.buffer||(t=new Uint8Array(t)),F(t.buffer),t},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),s=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof ts))throw e}),process.on("unhandledRejection",ee),i.inspect=function(){return"[Emscripten Module object]"}):T?("u">typeof read&&(O=function(e){return read(e)}),d=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(F("object"==typeof(t=read(e,"binary"))),t)},"u">typeof scriptArgs?s=scriptArgs:"u">typeof arguments&&(s=arguments),"u">typeof print&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error="u">typeof printErr?printErr:print)):(u||R)&&(R?f=self.location.href:"u">typeof document&&document.currentScript&&(f=document.currentScript.src),r&&(f=r),f=0!==f.indexOf("blob:")?f.substr(0,f.lastIndexOf("/")+1):"",O=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},R&&(d=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),p=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||0==n.status&&n.response)return void t(n.response);r()},n.onerror=r,n.send(null)});var A=i.print||console.log.bind(console),l=i.printErr||console.warn.bind(console);for(o in a)a.hasOwnProperty(o)&&(i[o]=a[o]);a=null,i.arguments&&(s=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit;var O,p,d,B,C,G,M=function(e){};i.wasmBinary&&(G=i.wasmBinary),i.noExitRuntime,"object"!=typeof WebAssembly&&ee("no native wasm support detected");var h,K=!1;function F(e,t){e||ee("Assertion failed: "+t)}var N="u">typeof TextDecoder?new TextDecoder("utf8"):void 0;function y(e,t,r){for(var n=t+r,_=t;e[_]&&!(_>=n);)++_;if(_-t>16&&e.subarray&&N)return N.decode(e.subarray(t,_));for(var i="";t<_;){var o=e[t++];if(!(128&o)){i+=String.fromCharCode(o);continue}var a=63&e[t++];if((224&o)==192){i+=String.fromCharCode((31&o)<<6|a);continue}var s=63&e[t++];if((o=(240&o)==224?(15&o)<<12|a<<6|s:(7&o)<<18|a<<12|s<<6|63&e[t++])<65536)i+=String.fromCharCode(o);else{var u=o-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}return i}function E(e,t){return e?y(I,e,t):""}var v="u">typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function P(e,t){for(var r=e,n=r>>1,_=n+t/2;!(n>=_)&&D[n];)++n;if((r=n<<1)-e>32&&v)return v.decode(I.subarray(e,r));for(var i="",o=0;!(o>=t/2);++o){var a=w[e+2*o>>1];if(0==a)break;i+=String.fromCharCode(a)}return i}function b(e,t,r){if(void 0===r&&(r=0x7fffffff),r<2)return 0;r-=2;for(var n=t,_=r<2*e.length?r/2:e.length,i=0;i<_;++i){var o=e.charCodeAt(i);w[t>>1]=o,t+=2}return w[t>>1]=0,t-n}function S(e){return 2*e.length}function V(e,t){for(var r=0,n="";!(r>=t/4);){var _=X[e+4*r>>2];if(0==_)break;if(++r,_>=65536){var i=_-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(_)}return n}function m(e,t,r){if(void 0===r&&(r=0x7fffffff),r<4)return 0;for(var n=t,_=n+r-4,i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),X[t>>2]=o,(t+=4)+4>_)break}return X[t>>2]=0,t-n}function U(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t}function g(e){x=e,i.HEAP8=L=new Int8Array(e),i.HEAP16=w=new Int16Array(e),i.HEAP32=X=new Int32Array(e),i.HEAPU8=I=new Uint8Array(e),i.HEAPU16=D=new Uint16Array(e),i.HEAPU32=$=new Uint32Array(e),i.HEAPF32=H=new Float32Array(e),i.HEAPF64=k=new Float64Array(e)}i.INITIAL_MEMORY;var x,L,I,w,D,X,$,H,k,W,j=[],z=[],Y=[],q=[],J=0,Z=null,Q=null;function ee(e){i.onAbort&&i.onAbort(e),l(e+=""),K=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw n(t),t}function et(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}function er(e){return et(e,"data:application/octet-stream;base64,")}function en(e){return et(e,"file://")}i.preloadedImages={},i.preloadedAudios={};var e_="basis_transcoder.wasm";function ei(e){try{if(e==e_&&G)return new Uint8Array(G);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}catch(e){ee(e)}}function eo(e){for(;e.length>0;){var t=e.shift();if("function"==typeof t){t(i);continue}var r=t.func;"number"==typeof r?void 0===t.arg?W.get(r)():W.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}}er(e_)||(tr=e_,e_=i.locateFile?i.locateFile(tr,f):f+tr);var ea={};function es(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function eu(e){return this.fromWireType($[e>>2])}var eR={},ec={},eT={};function ef(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_"+e:e}function eA(e,t){return Function("body","return function "+(e=ef(e))+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(t)}function el(e,t){var r=eA(t,function(e){this.name=t,this.message=e;var r=Error(e).stack;void 0!==r&&(this.stack=this.toString()+`
`+r.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var eO=void 0;function ep(e){throw new eO(e)}function ed(e,t,r){function n(t){var n=r(t);n.length!==e.length&&ep("Mismatched type converter count");for(var _=0;_<e.length;++_)eK(e[_],n[_])}e.forEach(function(e){eT[e]=t});var _=Array(t.length),i=[],o=0;t.forEach(function(e,t){ec.hasOwnProperty(e)?_[t]=ec[e]:(i.push(e),eR.hasOwnProperty(e)||(eR[e]=[]),eR[e].push(function(){_[t]=ec[e],++o===i.length&&n(_)}))}),0===i.length&&n(_)}function eB(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw TypeError("Unknown type size: "+e)}}var eC=void 0;function eG(e){for(var t="",r=e;I[r];)t+=eC[I[r++]];return t}var eM=void 0;function eh(e){throw new eM(e)}function eK(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||eh('type "'+n+'" must have a positive integer typeid pointer'),ec.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;eh("Cannot register type '"+n+"' twice")}if(ec[e]=t,delete eT[e],eR.hasOwnProperty(e)){var _=eR[e];delete eR[e],_.forEach(function(e){e()})}}function eF(e){eh(e.$$.ptrType.registeredClass.name+" instance already deleted")}var eN=!1;function ey(e){}function eE(e){e.count.value-=1,0===e.count.value&&(e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr))}function ev(e){return typeof FinalizationGroup>"u"?(ev=function(e){return e},e):(eN=new FinalizationGroup(function(e){for(var t=e.next();!t.done;t=e.next()){var r=t.value;r.ptr?eE(r):console.warn("object already deleted: "+r.ptr)}}),ev=function(e){return eN.register(e,e.$$,e.$$),e},ey=function(e){eN.unregister(e.$$)},ev(e))}var eP=void 0,eb=[];function eS(){for(;eb.length;){var e=eb.pop();e.$$.deleteScheduled=!1,e.delete()}}function eV(){}var em={};function eU(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||eh("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function eg(e,t,r){i.hasOwnProperty(e)?((void 0===r||void 0!==i[e].overloadTable&&void 0!==i[e].overloadTable[r])&&eh("Cannot register public name '"+e+"' twice"),eU(i,e,e),i.hasOwnProperty(r)&&eh("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),i[e].overloadTable[r]=t):(i[e]=t,void 0!==r&&(i[e].numArguments=r))}function ex(e,t,r,n,_,i,o,a){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=_,this.getActualType=i,this.upcast=o,this.downcast=a,this.pureVirtualFunctions=[]}function eL(e,t,r){for(;t!==r;)t.upcast||eh("Expected null or instance of "+r.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function eI(e,t){if(null===t)return this.isReference&&eh("null is not a valid "+this.name),0;t.$$||eh('Cannot pass "'+e8(t)+'" as a '+this.name),t.$$.ptr||eh("Cannot pass deleted object as a pointer of type "+this.name);var r=t.$$.ptrType.registeredClass;return eL(t.$$.ptr,r,this.registeredClass)}function ew(e,t){if(null===t)return this.isReference&&eh("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||eh('Cannot pass "'+e8(t)+'" as a '+this.name),t.$$.ptr||eh("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&eh("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var r,n=t.$$.ptrType.registeredClass;if(r=eL(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&eh("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:eh("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var _=t.clone();r=this.rawShare(r,e0(function(){_.delete()})),null!==e&&e.push(this.rawDestructor,r)}break;default:eh("Unsupporting sharing policy")}return r}function eD(e,t){if(null===t)return this.isReference&&eh("null is not a valid "+this.name),0;t.$$||eh('Cannot pass "'+e8(t)+'" as a '+this.name),t.$$.ptr||eh("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&eh("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;return eL(t.$$.ptr,r,this.registeredClass)}var eX={};function e$(e,t){return t.ptrType&&t.ptr||ep("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&ep("Both smartPtrType and smartPtr must be specified"),t.count={value:1},ev(Object.create(e,{$$:{value:t}}))}function eH(e,t,r,n,_,i,o,a,s,u,R){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=_,this.pointeeType=i,this.sharingPolicy=o,this.rawGetPointee=a,this.rawConstructor=s,this.rawShare=u,this.rawDestructor=R,_||void 0!==t.baseClass?this.toWireType=ew:(n?this.toWireType=eI:this.toWireType=eD,this.destructorFunction=null)}function ek(e,t,r){i.hasOwnProperty(e)||ep("Replacing nonexistant public symbol"),void 0!==i[e].overloadTable&&void 0!==r?i[e].overloadTable[r]=t:(i[e]=t,i[e].argCount=r)}function eW(e,t){var r,n,_=-1!=(e=eG(e)).indexOf("j")?(r=e,n=[],function(){n.length=arguments.length;for(var e,_=0;_<arguments.length;_++)n[_]=arguments[_];return -1!=r.indexOf("j")?(e=i["dynCall_"+r],n&&n.length?e.apply(null,[t].concat(n)):e.call(null,t)):W.get(t).apply(null,n)}):W.get(t);return"function"!=typeof _&&eh("unknown function pointer with signature "+e+": "+t),_}var ej=void 0;function ez(e){var t=ta(e),r=eG(t);return to(t),r}function eY(e,t){var r=[],n={};throw t.forEach(function e(t){if(!n[t]&&!ec[t]){if(eT[t])return void eT[t].forEach(e);r.push(t),n[t]=!0}}),new ej(e+": "+r.map(ez).join([", "]))}function eq(e,t){for(var r=[],n=0;n<e;n++)r.push(X[(t>>2)+n]);return r}function eJ(e,t){if(!(e instanceof Function))throw TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=eA(e.name||"unknownFunctionName",function(){});r.prototype=e.prototype;var n=new r,_=e.apply(n,t);return _ instanceof Object?_:n}function eZ(e,t,r,n,_){var i=t.length;i<2&&eh("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==t[1]&&null!==r,a=!1,s=1;s<t.length;++s)if(null!==t[s]&&void 0===t[s].destructorFunction){a=!0;break}for(var u="void"!==t[0].name,R="",c="",s=0;s<i-2;++s)R+=(0!==s?", ":"")+"arg"+s,c+=(0!==s?", ":"")+"arg"+s+"Wired";var T="return function "+ef(e)+"("+R+`) {
if (arguments.length !== `+(i-2)+`) {
throwBindingError('function `+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+` args!');
}
`;a&&(T+=`var destructors = [];
`);var f=a?"destructors":"null",A=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],l=[eh,n,_,es,t[0],t[1]];o&&(T+="var thisWired = classParam.toWireType("+f+`, this);
`);for(var s=0;s<i-2;++s)T+="var arg"+s+"Wired = argType"+s+".toWireType("+f+", arg"+s+"); // "+t[s+2].name+`
`,A.push("argType"+s),l.push(t[s+2]);if(o&&(c="thisWired"+(c.length>0?", ":"")+c),T+=(u?"var rv = ":"")+"invoker(fn"+(c.length>0?", ":"")+c+`);
`,a)T+=`runDestructors(destructors);
`;else for(var s=o?1:2;s<t.length;++s){var O=1===s?"thisWired":"arg"+(s-2)+"Wired";null!==t[s].destructorFunction&&(T+=O+"_dtor("+O+"); // "+t[s].name+`
`,A.push(O+"_dtor"),l.push(t[s].destructorFunction))}return u&&(T+=`var ret = retType.fromWireType(rv);
return ret;
`),T+=`}
`,A.push(T),eJ(Function,A).apply(null,l)}var eQ=[],e1=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function e2(e){e>4&&0==--e1[e].refcount&&(e1[e]=void 0,eQ.push(e))}function e0(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=eQ.length?eQ.pop():e1.length;return e1[t]={refcount:1,value:e},t}}function e6(e,t){var r=ec[e];return void 0===r&&eh(t+" has unknown type "+ez(e)),r}function e8(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function e4(e){return e||eh("Cannot use deleted val. handle = "+e),e1[e].value}var e3={};function e5(e){var t=e3[e];return void 0===t?eG(e):t}var e9=[];function e7(){return"object"==typeof globalThis?globalThis:Function("return this")()}var te={},tt={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var r=tt.buffers[e];0===t||10===t?((1===e?A:l)(y(r,0)),r.length=0):r.push(t)},varargs:void 0,get:function(){return tt.varargs+=4,X[tt.varargs-4>>2]},getStr:function(e){return E(e)},get64:function(e,t){return e}};eO=i.InternalError=el(Error,"InternalError"),function(){for(var e=Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);eC=e}(),eM=i.BindingError=el(Error,"BindingError"),eV.prototype.isAliasOf=function(e){if(!(this instanceof eV)||!(e instanceof eV))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,_=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)_=n.upcast(_),n=n.baseClass;return t===n&&r===_},eV.prototype.clone=function(){if(this.$$.ptr||eF(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,t=ev(Object.create(Object.getPrototypeOf(this),{$$:{value:{count:(e=this.$$).count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},eV.prototype.delete=function(){this.$$.ptr||eF(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&eh("Object already scheduled for deletion"),ey(this),eE(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},eV.prototype.isDeleted=function(){return!this.$$.ptr},eV.prototype.deleteLater=function(){return this.$$.ptr||eF(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&eh("Object already scheduled for deletion"),eb.push(this),1===eb.length&&eP&&eP(eS),this.$$.deleteScheduled=!0,this},eH.prototype.getPointee=function(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},eH.prototype.destructor=function(e){this.rawDestructor&&this.rawDestructor(e)},eH.prototype.argPackAdvance=8,eH.prototype.readValueFromPointer=eu,eH.prototype.deleteObject=function(e){null!==e&&e.delete()},eH.prototype.fromWireType=function(e){var t,r=this.getPointee(e);if(!r)return this.destructor(e),null;var n=eX[function(e,t){for(void 0===t&&eh("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}(this.registeredClass,r)];if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=r,n.$$.smartPtr=e,n.clone();var _=n.clone();return this.destructor(e),_}function i(){return this.isSmartPointer?e$(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):e$(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o=em[this.registeredClass.getActualType(r)];if(!o)return i.call(this);t=this.isConst?o.constPointerType:o.pointerType;var a=function e(t,r,n){if(r===n)return t;if(void 0===n.baseClass)return null;var _=e(t,r,n.baseClass);return null===_?null:n.downcast(_)}(r,this.registeredClass,t.registeredClass);return null===a?i.call(this):this.isSmartPointer?e$(t.registeredClass.instancePrototype,{ptrType:t,ptr:a,smartPtrType:this,smartPtr:e}):e$(t.registeredClass.instancePrototype,{ptrType:t,ptr:a})},i.getInheritedInstanceCount=function(){return Object.keys(eX).length},i.getLiveInheritedInstances=function(){var e=[];for(var t in eX)eX.hasOwnProperty(t)&&e.push(eX[t]);return e},i.flushPendingDeletes=eS,i.setDelayFunction=function(e){eP=e,eb.length&&eP&&eP(eS)},ej=i.UnboundTypeError=el(Error,"UnboundTypeError"),i.count_emval_handles=function(){for(var e=0,t=5;t<e1.length;++t)void 0!==e1[t]&&++e;return e},i.get_first_emval=function(){for(var e=5;e<e1.length;++e)if(void 0!==e1[e])return e1[e];return null};var tr,tn,t_={t:function(e){var t=ea[e];delete ea[e];var r=t.rawConstructor,n=t.rawDestructor,_=t.fields;ed([e],_.map(function(e){return e.getterReturnType}).concat(_.map(function(e){return e.setterArgumentType})),function(e){var i={};return _.forEach(function(t,r){var n=t.fieldName,o=e[r],a=t.getter,s=t.getterContext,u=e[r+_.length],R=t.setter,c=t.setterContext;i[n]={read:function(e){return o.fromWireType(a(s,e))},write:function(e,t){var r=[];R(c,e,u.toWireType(r,t)),es(r)}}}),[{name:t.name,fromWireType:function(e){var t={};for(var r in i)t[r]=i[r].read(e);return n(e),t},toWireType:function(e,t){for(var _ in i)if(!(_ in t))throw TypeError('Missing field:  "'+_+'"');var o=r();for(_ in i)i[_].write(o,t[_]);return null!==e&&e.push(n,o),o},argPackAdvance:8,readValueFromPointer:eu,destructorFunction:n}]})},I:function(e,t,r,n,_){var i=eB(r);eK(e,{name:t=eG(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:_},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=L;else if(2===r)n=w;else if(4===r)n=X;else throw TypeError("Unknown boolean type size: "+t);return this.fromWireType(n[e>>i])},destructorFunction:null})},x:function(e,t,r,n,_,i,o,a,s,u,R,c,T){R=eG(R),i=eW(_,i),a&&(a=eW(o,a)),u&&(u=eW(s,u)),T=eW(c,T);var f=ef(R);eg(f,function(){eY("Cannot construct "+R+" due to unbound types",[n])}),ed([e,t,r],n?[n]:[],function(t){t=t[0];var r,_=n?(r=t.registeredClass).instancePrototype:eV.prototype,o=eA(f,function(){if(Object.getPrototypeOf(this)!==s)throw new eM("Use 'new' to construct "+R);if(void 0===c.constructor_body)throw new eM(R+" has no accessible constructor");var e=c.constructor_body[arguments.length];if(void 0===e)throw new eM("Tried to invoke ctor of "+R+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(c.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)}),s=Object.create(_,{constructor:{value:o}});o.prototype=s;var c=new ex(R,o,s,T,r,i,a,u),A=new eH(R,c,!0,!1,!1),l=new eH(R+"*",c,!1,!1,!1),O=new eH(R+" const*",c,!1,!0,!1);return em[e]={pointerType:l,constPointerType:O},ek(f,o),[A,l,O]})},w:function(e,t,r,n,_,i){F(t>0);var o=eq(t,r);_=eW(n,_);var a=[i],s=[];ed([],[e],function(e){var r="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new eM("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){eY("Cannot construct "+e.name+" due to unbound types",o)},ed([],o,function(n){return e.registeredClass.constructor_body[t-1]=function(){arguments.length!=t-1&&eh(r+" called with "+arguments.length+" arguments, expected "+(t-1)),s.length=0,a.length=t;for(var e=1;e<t;++e)a[e]=n[e].toWireType(s,arguments[e-1]);var i=_.apply(null,a);return es(s),n[0].fromWireType(i)},[]}),[]})},d:function(e,t,r,n,_,i,o,a){var s=eq(r,n);t=eG(t),i=eW(_,i),ed([],[e],function(e){var n=(e=e[0]).name+"."+t;function _(){eY("Cannot call "+n+" due to unbound types",s)}a&&e.registeredClass.pureVirtualFunctions.push(t);var u=e.registeredClass.instancePrototype,R=u[t];return void 0===R||void 0===R.overloadTable&&R.className!==e.name&&R.argCount===r-2?(_.argCount=r-2,_.className=e.name,u[t]=_):(eU(u,t,n),u[t].overloadTable[r-2]=_),ed([],s,function(_){var a=eZ(n,_,e,i,o);return void 0===u[t].overloadTable?(a.argCount=r-2,u[t]=a):u[t].overloadTable[r-2]=a,[]}),[]})},k:function(e,t,r){e=eG(e),ed([],[t],function(t){return t=t[0],i[e]=t.fromWireType(r),[]})},H:function(e,t){eK(e,{name:t=eG(t),fromWireType:function(e){var t=e1[e].value;return e2(e),t},toWireType:function(e,t){return e0(t)},argPackAdvance:8,readValueFromPointer:eu,destructorFunction:null})},n:function(e,t,r,n){var _=eB(r);function i(){}t=eG(t),i.values={},eK(e,{name:t,constructor:i,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:function(e,t,r){switch(t){case 0:return function(e){var t=r?L:I;return this.fromWireType(t[e])};case 1:return function(e){var t=r?w:D;return this.fromWireType(t[e>>1])};case 2:return function(e){var t=r?X:$;return this.fromWireType(t[e>>2])};default:throw TypeError("Unknown integer type: "+e)}}(t,_,n),destructorFunction:null}),eg(t,i)},a:function(e,t,r){var n=e6(e,"enum");t=eG(t);var _=n.constructor,i=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:eA(n.name+"_"+t,function(){})}});_.values[r]=i,_[t]=i},A:function(e,t,r){var n=eB(r);eK(e,{name:t=eG(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw TypeError('Cannot convert "'+e8(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:function(e,t){switch(t){case 2:return function(e){return this.fromWireType(H[e>>2])};case 3:return function(e){return this.fromWireType(k[e>>3])};default:throw TypeError("Unknown float type: "+e)}}(t,n),destructorFunction:null})},i:function(e,t,r,n,_,i){var o=eq(t,r);e=eG(e),_=eW(n,_),eg(e,function(){eY("Cannot call "+e+" due to unbound types",o)},t-1),ed([],o,function(r){var n=[r[0],null].concat(r.slice(1));return ek(e,eZ(e,n,null,_,i),t-1),[]})},j:function(e,t,r,n,_){t=eG(t),-1===_&&(_=0xffffffff);var i=eB(r),o=function(e){return e};if(0===n){var a=32-8*r;o=function(e){return e<<a>>>a}}var s=-1!=t.indexOf("unsigned");eK(e,{name:t,fromWireType:o,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw TypeError('Cannot convert "'+e8(r)+'" to '+this.name);if(r<n||r>_)throw TypeError('Passing a number "'+e8(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+n+", "+_+"]!");return s?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:function(e,t,r){switch(t){case 0:return r?function(e){return L[e]}:function(e){return I[e]};case 1:return r?function(e){return w[e>>1]}:function(e){return D[e>>1]};case 2:return r?function(e){return X[e>>2]}:function(e){return $[e>>2]};default:throw TypeError("Unknown integer type: "+e)}}(t,i,0!==n),destructorFunction:null})},h:function(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function _(e){e>>=2;var t=$,r=t[e],_=t[e+1];return new n(x,_,r)}eK(e,{name:r=eG(r),fromWireType:_,argPackAdvance:8,readValueFromPointer:_},{ignoreDuplicateRegistrations:!0})},B:function(e,t){var r="std::string"===(t=eG(t));eK(e,{name:t,fromWireType:function(e){var t,n=$[e>>2];if(r)for(var _=e+4,i=0;i<=n;++i){var o=e+4+i;if(i==n||0==I[o]){var a=o-_,s=E(_,a);void 0===t?t=s:(t+="\0",t+=s),_=o+1}}else{for(var u=Array(n),i=0;i<n;++i)u[i]=String.fromCharCode(I[e+4+i]);t=u.join("")}return to(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||eh("Cannot pass non-string to std::string");var _=(r&&n?function(){for(var e=t,r=0,n=0;n<e.length;++n){var _=e.charCodeAt(n);_>=55296&&_<=57343&&(_=65536+((1023&_)<<10)|1023&e.charCodeAt(++n)),_<=127?++r:_<=2047?r+=2:_<=65535?r+=3:r+=4}return r}:function(){return t.length})(),i=ti(4+_+1);if($[i>>2]=_,r&&n)!function(e,t,r){var n=I,_=t;if(r>0){for(var i=_+r-1,o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),a<=127){if(_>=i)break;n[_++]=a}else if(a<=2047){if(_+1>=i)break;n[_++]=192|a>>6,n[_++]=128|63&a}else if(a<=65535){if(_+2>=i)break;n[_++]=224|a>>12,n[_++]=128|a>>6&63,n[_++]=128|63&a}else{if(_+3>=i)break;n[_++]=240|a>>18,n[_++]=128|a>>12&63,n[_++]=128|a>>6&63,n[_++]=128|63&a}}n[_]=0}}(t,i+4,_+1);else if(n)for(var o=0;o<_;++o){var a=t.charCodeAt(o);a>255&&(to(i),eh("String has UTF-16 code units that do not fit in 8 bits")),I[i+4+o]=a}else for(var o=0;o<_;++o)I[i+4+o]=t[o];return null!==e&&e.push(to,i),i},argPackAdvance:8,readValueFromPointer:eu,destructorFunction:function(e){to(e)}})},v:function(e,t,r){var n,_,i,o,a;r=eG(r),2===t?(n=P,_=b,o=S,i=function(){return D},a=1):4===t&&(n=V,_=m,o=U,i=function(){return $},a=2),eK(e,{name:r,fromWireType:function(e){for(var r,_=$[e>>2],o=i(),s=e+4,u=0;u<=_;++u){var R=e+4+u*t;if(u==_||0==o[R>>a]){var c=R-s,T=n(s,c);void 0===r?r=T:(r+="\0",r+=T),s=R+t}}return to(e),r},toWireType:function(e,n){"string"!=typeof n&&eh("Cannot pass non-string to C++ string type "+r);var i=o(n),s=ti(4+i+t);return $[s>>2]=i>>a,_(n,s+4,i+t),null!==e&&e.push(to,s),s},argPackAdvance:8,readValueFromPointer:eu,destructorFunction:function(e){to(e)}})},u:function(e,t,r,n,_,i){ea[e]={name:eG(t),rawConstructor:eW(r,n),rawDestructor:eW(_,i),fields:[]}},c:function(e,t,r,n,_,i,o,a,s,u){ea[e].fields.push({fieldName:eG(t),getterReturnType:r,getter:eW(n,_),getterContext:i,setterArgumentType:o,setter:eW(a,s),setterContext:u})},J:function(e,t){eK(e,{isVoid:!0,name:t=eG(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},m:function(e,t,r){e=e4(e),t=e6(t,"emval::as");var n=[],_=e0(n);return X[r>>2]=_,t.toWireType(n,e)},s:function(e,t,r,n){e=e9[e],e(t=e4(t),r=e5(r),null,n)},b:e2,y:function(e){return 0===e?e0(e7()):(e=e5(e),e0(e7()[e]))},p:function(e,t){for(var r,n,_=function(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=e6(X[(t>>2)+n],"parameter "+n);return r}(e,t),i=_[0],o=i.name+"_$"+_.slice(1).map(function(e){return e.name}).join("_")+"$",a=["retType"],s=[i],u="",R=0;R<e-1;++R)u+=(0!==R?", ":"")+"arg"+R,a.push("argType"+R),s.push(_[1+R]);for(var c=ef("methodCaller_"+o),T="return function "+c+`(handle, name, destructors, args) {
`,f=0,R=0;R<e-1;++R)T+="    var arg"+R+" = argType"+R+".readValueFromPointer(args"+(f?"+"+f:"")+`);
`,f+=_[R+1].argPackAdvance;T+="    var rv = handle[name]("+u+`);
`;for(var R=0;R<e-1;++R)_[R+1].deleteObject&&(T+="    argType"+R+".deleteObject(arg"+R+`);
`);return i.isVoid||(T+=`    return retType.toWireType(destructors, rv);
`),T+=`};
`,a.push(T),r=eJ(Function,a).apply(null,s),n=e9.length,e9.push(r),n},r:function(e){return e0(i[e=e5(e)])},e:function(e,t){return e0((e=e4(e))[t=e4(t)])},g:function(e){e>4&&(e1[e].refcount+=1)},q:function(e,t,r,n){e=e4(e);var _=te[t];return _||(_=function(e){for(var t="",r=0;r<e;++r)t+=(0!==r?", ":"")+"arg"+r;for(var n="return function emval_allocator_"+e+`(constructor, argTypes, args) {
`,r=0;r<e;++r)n+="var argType"+r+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+r+'], "parameter '+r+`");
var arg`+r+" = argType"+r+`.readValueFromPointer(args);
args += argType`+r+`['argPackAdvance'];
`;return Function("requireRegisteredType","Module","__emval_register",n+="var obj = new constructor("+t+`);
return __emval_register(obj);
}
`)(e6,i,e0)}(t),te[t]=_),_(e,r,n)},f:function(e){return e0(e5(e))},l:function(e){es(e1[e].value),e2(e)},o:function(){ee()},E:function(e,t,r){I.copyWithin(e,t,t+r)},F:function(e){var t=I.length;if((e>>>=0)>0x80000000)return!1;for(var r=1;r<=4;r*=2){var n,_=t*(1+.2/r);if(_=Math.min(_,e+0x6000000),function(e){try{return h.grow(e-x.byteLength+65535>>>16),g(h.buffer),1}catch{}}(Math.min(0x80000000,((n=Math.max(e,_))%65536>0&&(n+=65536-n%65536),n))))return!0}return!1},G:function(e){return 0},C:function(e,t,r,n,_){},z:function(e,t,r,n){for(var _=0,i=0;i<r;i++){for(var o=X[t+8*i>>2],a=X[t+(8*i+4)>>2],s=0;s<a;s++)tt.printChar(e,I[o+s]);_+=a}return X[n>>2]=_,0},D:function(e){M(0|e)}},ti=(function(){var e={a:t_};function t(e,t){var r;i.asm=e.exports,g((h=i.asm.K).buffer),W=i.asm.O,r=i.asm.L,z.unshift(r),function(e){if(J--,i.monitorRunDependencies&&i.monitorRunDependencies(J),0==J&&(null!==Z&&(clearInterval(Z),Z=null),Q)){var t=Q;Q=null,t()}}(0)}function r(e){t(e.instance)}function _(t){return(function(){if(!G&&(u||R)){if("function"==typeof fetch&&!en(e_))return fetch(e_,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+e_+"'";return e.arrayBuffer()}).catch(function(){return ei(e_)});if(p)return new Promise(function(e,t){p(e_,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return ei(e_)})})().then(function(t){return WebAssembly.instantiate(t,e)}).then(t,function(e){l("failed to asynchronously prepare wasm: "+e),ee(e)})}if(J++,i.monitorRunDependencies&&i.monitorRunDependencies(J),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(e){return l("Module.instantiateWasm callback failed with error: "+e),!1}(G||"function"!=typeof WebAssembly.instantiateStreaming||er(e_)||en(e_)||"function"!=typeof fetch?_(r):fetch(e_,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(r,function(e){return l("wasm streaming compile failed: "+e),l("falling back to ArrayBuffer instantiation"),_(r)})})).catch(n)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.L).apply(null,arguments)},i._malloc=function(){return(ti=i._malloc=i.asm.M).apply(null,arguments)}),to=i._free=function(){return(to=i._free=i.asm.N).apply(null,arguments)},ta=i.___getTypeName=function(){return(ta=i.___getTypeName=i.asm.P).apply(null,arguments)};function ts(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function tu(e){e=e||s,J>0||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;){var e;e=i.preRun.shift(),j.unshift(e)}eo(j)}(),J>0)||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),r()},1)):r());function r(){tn||(tn=!0,i.calledRun=!0,K||(eo(z),eo(Y),t(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;){var e;e=i.postRun.shift(),q.unshift(e)}eo(q)}()))}}if(i.___embind_register_native_and_builtin_types=function(){return(i.___embind_register_native_and_builtin_types=i.asm.Q).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.R).apply(null,arguments)},Q=function e(){tn||tu(),tn||(Q=e)},i.run=tu,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return tu(),e.ready});"object"==typeof e&&"object"==typeof t?t.exports=n:"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof e&&(e.BASIS=n)}),u={UNSIGNED_BYTE:t.UNSIGNED_BYTE,UNSIGNED_SHORT:t.UNSIGNED_SHORT,UNSIGNED_INT:t.UNSIGNED_INT,FLOAT:t.FLOAT,HALF_FLOAT:t.HALF_FLOAT_OES,UNSIGNED_INT_24_8:t.UNSIGNED_INT_24_8,UNSIGNED_SHORT_4_4_4_4:t.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:t.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:t.UNSIGNED_SHORT_5_6_5};u.toWebGLConstant=function(e,r){switch(e){case u.UNSIGNED_BYTE:return t.UNSIGNED_BYTE;case u.UNSIGNED_SHORT:return t.UNSIGNED_SHORT;case u.UNSIGNED_INT:return t.UNSIGNED_INT;case u.FLOAT:return t.FLOAT;case u.HALF_FLOAT:return r.webgl2?t.HALF_FLOAT:t.HALF_FLOAT_OES;case u.UNSIGNED_INT_24_8:return t.UNSIGNED_INT_24_8;case u.UNSIGNED_SHORT_4_4_4_4:return t.UNSIGNED_SHORT_4_4_4_4;case u.UNSIGNED_SHORT_5_5_5_1:return t.UNSIGNED_SHORT_5_5_5_1;case u.UNSIGNED_SHORT_5_6_5:return u.UNSIGNED_SHORT_5_6_5}},u.isPacked=function(e){return e===u.UNSIGNED_INT_24_8||e===u.UNSIGNED_SHORT_4_4_4_4||e===u.UNSIGNED_SHORT_5_5_5_1||e===u.UNSIGNED_SHORT_5_6_5},u.sizeInBytes=function(e){switch(e){case u.UNSIGNED_BYTE:return 1;case u.UNSIGNED_SHORT:case u.UNSIGNED_SHORT_4_4_4_4:case u.UNSIGNED_SHORT_5_5_5_1:case u.UNSIGNED_SHORT_5_6_5:case u.HALF_FLOAT:return 2;case u.UNSIGNED_INT:case u.FLOAT:case u.UNSIGNED_INT_24_8:return 4}},u.validate=function(e){return e===u.UNSIGNED_BYTE||e===u.UNSIGNED_SHORT||e===u.UNSIGNED_INT||e===u.FLOAT||e===u.HALF_FLOAT||e===u.UNSIGNED_INT_24_8||e===u.UNSIGNED_SHORT_4_4_4_4||e===u.UNSIGNED_SHORT_5_5_5_1||e===u.UNSIGNED_SHORT_5_6_5},u.getTypedArrayConstructor=function(e){let t=u.sizeInBytes(e);return t===Uint8Array.BYTES_PER_ELEMENT?Uint8Array:t===Uint16Array.BYTES_PER_ELEMENT?Uint16Array:t===Float32Array.BYTES_PER_ELEMENT&&e===u.FLOAT?Float32Array:Uint32Array};var R=Object.freeze(u),c={DEPTH_COMPONENT:t.DEPTH_COMPONENT,DEPTH_STENCIL:t.DEPTH_STENCIL,ALPHA:t.ALPHA,RED:t.RED,RG:t.RG,RGB:t.RGB,RGBA:t.RGBA,RED_INTEGER:t.RED_INTEGER,RG_INTEGER:t.RG_INTEGER,RGB_INTEGER:t.RGB_INTEGER,RGBA_INTEGER:t.RGBA_INTEGER,LUMINANCE:t.LUMINANCE,LUMINANCE_ALPHA:t.LUMINANCE_ALPHA,RGB_DXT1:t.COMPRESSED_RGB_S3TC_DXT1_EXT,RGBA_DXT1:t.COMPRESSED_RGBA_S3TC_DXT1_EXT,RGBA_DXT3:t.COMPRESSED_RGBA_S3TC_DXT3_EXT,RGBA_DXT5:t.COMPRESSED_RGBA_S3TC_DXT5_EXT,RGB_PVRTC_4BPPV1:t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,RGB_PVRTC_2BPPV1:t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,RGBA_PVRTC_4BPPV1:t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,RGBA_PVRTC_2BPPV1:t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,RGBA_ASTC:t.COMPRESSED_RGBA_ASTC_4x4_WEBGL,RGB_ETC1:t.COMPRESSED_RGB_ETC1_WEBGL,RGB8_ETC2:t.COMPRESSED_RGB8_ETC2,RGBA8_ETC2_EAC:t.COMPRESSED_RGBA8_ETC2_EAC,RGBA_BC7:t.COMPRESSED_RGBA_BPTC_UNORM};c.componentsLength=function(e){switch(e){case c.RGB:case c.RGB_INTEGER:return 3;case c.RGBA:case c.RGBA_INTEGER:return 4;case c.LUMINANCE_ALPHA:case c.RG:case c.RG_INTEGER:return 2;case c.ALPHA:case c.RED:case c.RED_INTEGER:case c.LUMINANCE:default:return 1}},c.validate=function(e){return e===c.DEPTH_COMPONENT||e===c.DEPTH_STENCIL||e===c.ALPHA||e===c.RED||e===c.RG||e===c.RGB||e===c.RGBA||e===c.RED_INTEGER||e===c.RG_INTEGER||e===c.RGB_INTEGER||e===c.RGBA_INTEGER||e===c.LUMINANCE||e===c.LUMINANCE_ALPHA||e===c.RGB_DXT1||e===c.RGBA_DXT1||e===c.RGBA_DXT3||e===c.RGBA_DXT5||e===c.RGB_PVRTC_4BPPV1||e===c.RGB_PVRTC_2BPPV1||e===c.RGBA_PVRTC_4BPPV1||e===c.RGBA_PVRTC_2BPPV1||e===c.RGBA_ASTC||e===c.RGB_ETC1||e===c.RGB8_ETC2||e===c.RGBA8_ETC2_EAC||e===c.RGBA_BC7},c.isColorFormat=function(e){return e===c.RED||e===c.ALPHA||e===c.RGB||e===c.RGBA||e===c.LUMINANCE||e===c.LUMINANCE_ALPHA},c.isDepthFormat=function(e){return e===c.DEPTH_COMPONENT||e===c.DEPTH_STENCIL},c.isCompressedFormat=function(e){return e===c.RGB_DXT1||e===c.RGBA_DXT1||e===c.RGBA_DXT3||e===c.RGBA_DXT5||e===c.RGB_PVRTC_4BPPV1||e===c.RGB_PVRTC_2BPPV1||e===c.RGBA_PVRTC_4BPPV1||e===c.RGBA_PVRTC_2BPPV1||e===c.RGBA_ASTC||e===c.RGB_ETC1||e===c.RGB8_ETC2||e===c.RGBA8_ETC2_EAC||e===c.RGBA_BC7},c.isDXTFormat=function(e){return e===c.RGB_DXT1||e===c.RGBA_DXT1||e===c.RGBA_DXT3||e===c.RGBA_DXT5},c.isPVRTCFormat=function(e){return e===c.RGB_PVRTC_4BPPV1||e===c.RGB_PVRTC_2BPPV1||e===c.RGBA_PVRTC_4BPPV1||e===c.RGBA_PVRTC_2BPPV1},c.isASTCFormat=function(e){return e===c.RGBA_ASTC},c.isETC1Format=function(e){return e===c.RGB_ETC1},c.isETC2Format=function(e){return e===c.RGB8_ETC2||e===c.RGBA8_ETC2_EAC},c.isBC7Format=function(e){return e===c.RGBA_BC7},c.compressedTextureSizeInBytes=function(e,t,r){switch(e){case c.RGB_DXT1:case c.RGBA_DXT1:case c.RGB_ETC1:case c.RGB8_ETC2:return Math.floor((t+3)/4)*Math.floor((r+3)/4)*8;case c.RGBA_DXT3:case c.RGBA_DXT5:case c.RGBA_ASTC:case c.RGBA8_ETC2_EAC:return Math.floor((t+3)/4)*Math.floor((r+3)/4)*16;case c.RGB_PVRTC_4BPPV1:case c.RGBA_PVRTC_4BPPV1:return Math.floor((Math.max(t,8)*Math.max(r,8)*4+7)/8);case c.RGB_PVRTC_2BPPV1:case c.RGBA_PVRTC_2BPPV1:return Math.floor((Math.max(t,16)*Math.max(r,8)*2+7)/8);case c.RGBA_BC7:return Math.ceil(t/4)*Math.ceil(r/4)*16;default:return 0}},c.textureSizeInBytes=function(e,t,r,n){let _=c.componentsLength(e);return R.isPacked(t)&&(_=1),_*R.sizeInBytes(t)*r*n},c.texture3DSizeInBytes=function(e,t,r,n,_){let i=c.componentsLength(e);return R.isPacked(t)&&(i=1),i*R.sizeInBytes(t)*r*n*_},c.alignmentInBytes=function(e,t,r){let n=c.textureSizeInBytes(e,t,r,1)%4;return 0===n?4:2===n?2:1},c.createTypedArray=function(e,t,r,n){return new(R.getTypedArrayConstructor(t))(c.componentsLength(e)*r*n)},c.flipY=function(e,t,r,n,_){if(1===_)return e;let i=c.createTypedArray(t,r,n,_),o=c.componentsLength(t),a=n*o;for(let t=0;t<_;++t){let r=t*n*o,s=(_-t-1)*n*o;for(let t=0;t<a;++t)i[s+t]=e[r+t]}return i},c.toInternalFormat=function(e,r,n){if(!n.webgl2)return e;if(e===c.DEPTH_STENCIL)return t.DEPTH24_STENCIL8;if(e===c.DEPTH_COMPONENT){if(r===R.UNSIGNED_SHORT)return t.DEPTH_COMPONENT16;if(r===R.UNSIGNED_INT)return t.DEPTH_COMPONENT24}if(r===R.FLOAT)switch(e){case c.RGBA:return t.RGBA32F;case c.RGB:return t.RGB32F;case c.RG:return t.RG32F;case c.RED:return t.R32F}if(r===R.HALF_FLOAT)switch(e){case c.RGBA:return t.RGBA16F;case c.RGB:return t.RGB16F;case c.RG:return t.RG16F;case c.RED:return t.R16F}if(r===R.UNSIGNED_BYTE)switch(e){case c.RGBA:return t.RGBA8;case c.RGB:return t.RGB8;case c.RG:return t.RG8;case c.RED:return t.R8}if(r===R.INT)switch(e){case c.RGBA_INTEGER:return t.RGBA32I;case c.RGB_INTEGER:return t.RGB32I;case c.RG_INTEGER:return t.RG32I;case c.RED_INTEGER:return t.R32I}if(r===R.UNSIGNED_INT)switch(e){case c.RGBA_INTEGER:return t.RGBA32UI;case c.RGB_INTEGER:return t.RGB32UI;case c.RG_INTEGER:return t.RG32UI;case c.RED_INTEGER:return t.R32UI}return e};var T=Object.freeze(c),f=Object.freeze({VK_FORMAT_UNDEFINED:0,VK_FORMAT_R4G4_UNORM_PACK8:1,VK_FORMAT_R4G4B4A4_UNORM_PACK16:2,VK_FORMAT_B4G4R4A4_UNORM_PACK16:3,VK_FORMAT_R5G6B5_UNORM_PACK16:4,VK_FORMAT_B5G6R5_UNORM_PACK16:5,VK_FORMAT_R5G5B5A1_UNORM_PACK16:6,VK_FORMAT_B5G5R5A1_UNORM_PACK16:7,VK_FORMAT_A1R5G5B5_UNORM_PACK16:8,VK_FORMAT_R8_UNORM:9,VK_FORMAT_R8_SNORM:10,VK_FORMAT_R8_USCALED:11,VK_FORMAT_R8_SSCALED:12,VK_FORMAT_R8_UINT:13,VK_FORMAT_R8_SINT:14,VK_FORMAT_R8_SRGB:15,VK_FORMAT_R8G8_UNORM:16,VK_FORMAT_R8G8_SNORM:17,VK_FORMAT_R8G8_USCALED:18,VK_FORMAT_R8G8_SSCALED:19,VK_FORMAT_R8G8_UINT:20,VK_FORMAT_R8G8_SINT:21,VK_FORMAT_R8G8_SRGB:22,VK_FORMAT_R8G8B8_UNORM:23,VK_FORMAT_R8G8B8_SNORM:24,VK_FORMAT_R8G8B8_USCALED:25,VK_FORMAT_R8G8B8_SSCALED:26,VK_FORMAT_R8G8B8_UINT:27,VK_FORMAT_R8G8B8_SINT:28,VK_FORMAT_R8G8B8_SRGB:29,VK_FORMAT_B8G8R8_UNORM:30,VK_FORMAT_B8G8R8_SNORM:31,VK_FORMAT_B8G8R8_USCALED:32,VK_FORMAT_B8G8R8_SSCALED:33,VK_FORMAT_B8G8R8_UINT:34,VK_FORMAT_B8G8R8_SINT:35,VK_FORMAT_B8G8R8_SRGB:36,VK_FORMAT_R8G8B8A8_UNORM:37,VK_FORMAT_R8G8B8A8_SNORM:38,VK_FORMAT_R8G8B8A8_USCALED:39,VK_FORMAT_R8G8B8A8_SSCALED:40,VK_FORMAT_R8G8B8A8_UINT:41,VK_FORMAT_R8G8B8A8_SINT:42,VK_FORMAT_R8G8B8A8_SRGB:43,VK_FORMAT_B8G8R8A8_UNORM:44,VK_FORMAT_B8G8R8A8_SNORM:45,VK_FORMAT_B8G8R8A8_USCALED:46,VK_FORMAT_B8G8R8A8_SSCALED:47,VK_FORMAT_B8G8R8A8_UINT:48,VK_FORMAT_B8G8R8A8_SINT:49,VK_FORMAT_B8G8R8A8_SRGB:50,VK_FORMAT_A8B8G8R8_UNORM_PACK32:51,VK_FORMAT_A8B8G8R8_SNORM_PACK32:52,VK_FORMAT_A8B8G8R8_USCALED_PACK32:53,VK_FORMAT_A8B8G8R8_SSCALED_PACK32:54,VK_FORMAT_A8B8G8R8_UINT_PACK32:55,VK_FORMAT_A8B8G8R8_SINT_PACK32:56,VK_FORMAT_A8B8G8R8_SRGB_PACK32:57,VK_FORMAT_A2R10G10B10_UNORM_PACK32:58,VK_FORMAT_A2R10G10B10_SNORM_PACK32:59,VK_FORMAT_A2R10G10B10_USCALED_PACK32:60,VK_FORMAT_A2R10G10B10_SSCALED_PACK32:61,VK_FORMAT_A2R10G10B10_UINT_PACK32:62,VK_FORMAT_A2R10G10B10_SINT_PACK32:63,VK_FORMAT_A2B10G10R10_UNORM_PACK32:64,VK_FORMAT_A2B10G10R10_SNORM_PACK32:65,VK_FORMAT_A2B10G10R10_USCALED_PACK32:66,VK_FORMAT_A2B10G10R10_SSCALED_PACK32:67,VK_FORMAT_A2B10G10R10_UINT_PACK32:68,VK_FORMAT_A2B10G10R10_SINT_PACK32:69,VK_FORMAT_R16_UNORM:70,VK_FORMAT_R16_SNORM:71,VK_FORMAT_R16_USCALED:72,VK_FORMAT_R16_SSCALED:73,VK_FORMAT_R16_UINT:74,VK_FORMAT_R16_SINT:75,VK_FORMAT_R16_SFLOAT:76,VK_FORMAT_R16G16_UNORM:77,VK_FORMAT_R16G16_SNORM:78,VK_FORMAT_R16G16_USCALED:79,VK_FORMAT_R16G16_SSCALED:80,VK_FORMAT_R16G16_UINT:81,VK_FORMAT_R16G16_SINT:82,VK_FORMAT_R16G16_SFLOAT:83,VK_FORMAT_R16G16B16_UNORM:84,VK_FORMAT_R16G16B16_SNORM:85,VK_FORMAT_R16G16B16_USCALED:86,VK_FORMAT_R16G16B16_SSCALED:87,VK_FORMAT_R16G16B16_UINT:88,VK_FORMAT_R16G16B16_SINT:89,VK_FORMAT_R16G16B16_SFLOAT:90,VK_FORMAT_R16G16B16A16_UNORM:91,VK_FORMAT_R16G16B16A16_SNORM:92,VK_FORMAT_R16G16B16A16_USCALED:93,VK_FORMAT_R16G16B16A16_SSCALED:94,VK_FORMAT_R16G16B16A16_UINT:95,VK_FORMAT_R16G16B16A16_SINT:96,VK_FORMAT_R16G16B16A16_SFLOAT:97,VK_FORMAT_R32_UINT:98,VK_FORMAT_R32_SINT:99,VK_FORMAT_R32_SFLOAT:100,VK_FORMAT_R32G32_UINT:101,VK_FORMAT_R32G32_SINT:102,VK_FORMAT_R32G32_SFLOAT:103,VK_FORMAT_R32G32B32_UINT:104,VK_FORMAT_R32G32B32_SINT:105,VK_FORMAT_R32G32B32_SFLOAT:106,VK_FORMAT_R32G32B32A32_UINT:107,VK_FORMAT_R32G32B32A32_SINT:108,VK_FORMAT_R32G32B32A32_SFLOAT:109,VK_FORMAT_R64_UINT:110,VK_FORMAT_R64_SINT:111,VK_FORMAT_R64_SFLOAT:112,VK_FORMAT_R64G64_UINT:113,VK_FORMAT_R64G64_SINT:114,VK_FORMAT_R64G64_SFLOAT:115,VK_FORMAT_R64G64B64_UINT:116,VK_FORMAT_R64G64B64_SINT:117,VK_FORMAT_R64G64B64_SFLOAT:118,VK_FORMAT_R64G64B64A64_UINT:119,VK_FORMAT_R64G64B64A64_SINT:120,VK_FORMAT_R64G64B64A64_SFLOAT:121,VK_FORMAT_B10G11R11_UFLOAT_PACK32:122,VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:123,VK_FORMAT_D16_UNORM:124,VK_FORMAT_X8_D24_UNORM_PACK32:125,VK_FORMAT_D32_SFLOAT:126,VK_FORMAT_S8_UINT:127,VK_FORMAT_D16_UNORM_S8_UINT:128,VK_FORMAT_D24_UNORM_S8_UINT:129,VK_FORMAT_D32_SFLOAT_S8_UINT:130,VK_FORMAT_BC1_RGB_UNORM_BLOCK:131,VK_FORMAT_BC1_RGB_SRGB_BLOCK:132,VK_FORMAT_BC1_RGBA_UNORM_BLOCK:133,VK_FORMAT_BC1_RGBA_SRGB_BLOCK:134,VK_FORMAT_BC2_UNORM_BLOCK:135,VK_FORMAT_BC2_SRGB_BLOCK:136,VK_FORMAT_BC3_UNORM_BLOCK:137,VK_FORMAT_BC3_SRGB_BLOCK:138,VK_FORMAT_BC4_UNORM_BLOCK:139,VK_FORMAT_BC4_SNORM_BLOCK:140,VK_FORMAT_BC5_UNORM_BLOCK:141,VK_FORMAT_BC5_SNORM_BLOCK:142,VK_FORMAT_BC6H_UFLOAT_BLOCK:143,VK_FORMAT_BC6H_SFLOAT_BLOCK:144,VK_FORMAT_BC7_UNORM_BLOCK:145,VK_FORMAT_BC7_SRGB_BLOCK:146,VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:147,VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:148,VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:149,VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:150,VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:151,VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:152,VK_FORMAT_EAC_R11_UNORM_BLOCK:153,VK_FORMAT_EAC_R11_SNORM_BLOCK:154,VK_FORMAT_EAC_R11G11_UNORM_BLOCK:155,VK_FORMAT_EAC_R11G11_SNORM_BLOCK:156,VK_FORMAT_ASTC_4x4_UNORM_BLOCK:157,VK_FORMAT_ASTC_4x4_SRGB_BLOCK:158,VK_FORMAT_ASTC_5x4_UNORM_BLOCK:159,VK_FORMAT_ASTC_5x4_SRGB_BLOCK:160,VK_FORMAT_ASTC_5x5_UNORM_BLOCK:161,VK_FORMAT_ASTC_5x5_SRGB_BLOCK:162,VK_FORMAT_ASTC_6x5_UNORM_BLOCK:163,VK_FORMAT_ASTC_6x5_SRGB_BLOCK:164,VK_FORMAT_ASTC_6x6_UNORM_BLOCK:165,VK_FORMAT_ASTC_6x6_SRGB_BLOCK:166,VK_FORMAT_ASTC_8x5_UNORM_BLOCK:167,VK_FORMAT_ASTC_8x5_SRGB_BLOCK:168,VK_FORMAT_ASTC_8x6_UNORM_BLOCK:169,VK_FORMAT_ASTC_8x6_SRGB_BLOCK:170,VK_FORMAT_ASTC_8x8_UNORM_BLOCK:171,VK_FORMAT_ASTC_8x8_SRGB_BLOCK:172,VK_FORMAT_ASTC_10x5_UNORM_BLOCK:173,VK_FORMAT_ASTC_10x5_SRGB_BLOCK:174,VK_FORMAT_ASTC_10x6_UNORM_BLOCK:175,VK_FORMAT_ASTC_10x6_SRGB_BLOCK:176,VK_FORMAT_ASTC_10x8_UNORM_BLOCK:177,VK_FORMAT_ASTC_10x8_SRGB_BLOCK:178,VK_FORMAT_ASTC_10x10_UNORM_BLOCK:179,VK_FORMAT_ASTC_10x10_SRGB_BLOCK:180,VK_FORMAT_ASTC_12x10_UNORM_BLOCK:181,VK_FORMAT_ASTC_12x10_SRGB_BLOCK:182,VK_FORMAT_ASTC_12x12_UNORM_BLOCK:183,VK_FORMAT_ASTC_12x12_SRGB_BLOCK:184,VK_FORMAT_G8B8G8R8_422_UNORM:1000156e3,VK_FORMAT_B8G8R8G8_422_UNORM:0x3b9d2b61,VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM:0x3b9d2b62,VK_FORMAT_G8_B8R8_2PLANE_420_UNORM:0x3b9d2b63,VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM:0x3b9d2b64,VK_FORMAT_G8_B8R8_2PLANE_422_UNORM:0x3b9d2b65,VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM:0x3b9d2b66,VK_FORMAT_R10X6_UNORM_PACK16:0x3b9d2b67,VK_FORMAT_R10X6G10X6_UNORM_2PACK16:0x3b9d2b68,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:0x3b9d2b69,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:0x3b9d2b6a,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:0x3b9d2b6b,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16:0x3b9d2b6c,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16:0x3b9d2b6d,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16:0x3b9d2b6e,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16:0x3b9d2b6f,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16:0x3b9d2b70,VK_FORMAT_R12X4_UNORM_PACK16:0x3b9d2b71,VK_FORMAT_R12X4G12X4_UNORM_2PACK16:0x3b9d2b72,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:0x3b9d2b73,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:0x3b9d2b74,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:0x3b9d2b75,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16:0x3b9d2b76,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16:0x3b9d2b77,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16:0x3b9d2b78,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16:0x3b9d2b79,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16:0x3b9d2b7a,VK_FORMAT_G16B16G16R16_422_UNORM:0x3b9d2b7b,VK_FORMAT_B16G16R16G16_422_UNORM:0x3b9d2b7c,VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM:0x3b9d2b7d,VK_FORMAT_G16_B16R16_2PLANE_420_UNORM:0x3b9d2b7e,VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM:0x3b9d2b7f,VK_FORMAT_G16_B16R16_2PLANE_422_UNORM:0x3b9d2b80,VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM:0x3b9d2b81,VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:1000054e3,VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:0x3b9b9cf1,VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:0x3b9b9cf2,VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:0x3b9b9cf3,VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:0x3b9b9cf4,VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:0x3b9b9cf5,VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:0x3b9b9cf6,VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:0x3b9b9cf7,VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:1000066e3,VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:0x3b9bcbd1,VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:0x3b9bcbd2,VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:0x3b9bcbd3,VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:0x3b9bcbd4,VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:0x3b9bcbd5,VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:0x3b9bcbd6,VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:0x3b9bcbd7,VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:0x3b9bcbd8,VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:0x3b9bcbd9,VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:0x3b9bcbda,VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:0x3b9bcbdb,VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:0x3b9bcbdc,VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:0x3b9bcbdd,VK_FORMAT_G8B8G8R8_422_UNORM_KHR:1000156e3,VK_FORMAT_B8G8R8G8_422_UNORM_KHR:0x3b9d2b61,VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM_KHR:0x3b9d2b62,VK_FORMAT_G8_B8R8_2PLANE_420_UNORM_KHR:0x3b9d2b63,VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM_KHR:0x3b9d2b64,VK_FORMAT_G8_B8R8_2PLANE_422_UNORM_KHR:0x3b9d2b65,VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM_KHR:0x3b9d2b66,VK_FORMAT_R10X6_UNORM_PACK16_KHR:0x3b9d2b67,VK_FORMAT_R10X6G10X6_UNORM_2PACK16_KHR:0x3b9d2b68,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16_KHR:0x3b9d2b69,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16_KHR:0x3b9d2b6a,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16_KHR:0x3b9d2b6b,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16_KHR:0x3b9d2b6c,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16_KHR:0x3b9d2b6d,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16_KHR:0x3b9d2b6e,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16_KHR:0x3b9d2b6f,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16_KHR:0x3b9d2b70,VK_FORMAT_R12X4_UNORM_PACK16_KHR:0x3b9d2b71,VK_FORMAT_R12X4G12X4_UNORM_2PACK16_KHR:0x3b9d2b72,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16_KHR:0x3b9d2b73,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16_KHR:0x3b9d2b74,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16_KHR:0x3b9d2b75,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16_KHR:0x3b9d2b76,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16_KHR:0x3b9d2b77,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16_KHR:0x3b9d2b78,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16_KHR:0x3b9d2b79,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16_KHR:0x3b9d2b7a,VK_FORMAT_G16B16G16R16_422_UNORM_KHR:0x3b9d2b7b,VK_FORMAT_B16G16R16G16_422_UNORM_KHR:0x3b9d2b7c,VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM_KHR:0x3b9d2b7d,VK_FORMAT_G16_B16R16_2PLANE_420_UNORM_KHR:0x3b9d2b7e,VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM_KHR:0x3b9d2b7f,VK_FORMAT_G16_B16R16_2PLANE_422_UNORM_KHR:0x3b9d2b80,VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM_KHR:0x3b9d2b81}),A=class{constructor(e,t,r,n){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+t,r),this._littleEndian=n,this._offset=0}_nextUint8(){let e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){let e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){let e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){let e=this._dataView.getUint32(this._offset,this._littleEndian),t=this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e+0x100000000*t}_nextInt32(){let e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint8Array(e){let t=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,e);return this._offset+=e,t}_skip(e){return this._offset+=e,this}_scan(e,t=0){let r=this._offset,n=0;for(;this._dataView.getUint8(this._offset)!==t&&n<e;)n++,this._offset++;return n<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,n)}};new Uint8Array([0]);var l=[171,75,84,88,32,50,48,187,13,10,26,10];function O(e){return new TextDecoder().decode(e)}var p,d=o(s(),1),B=["positiveX","negativeX","positiveY","negativeY","positiveZ","negativeZ"];async function C(e,t){let r=e.webAssemblyConfig,n=d.default??self.BASIS;return(p=a(r.wasmBinaryFile)?await n(r):await n()).initializeBasis(),!0}var G=e(function(e,t){return a(e.webAssemblyConfig)?C(e,t):function(e,t){n.typeOf.object("transcoderModule",p);let _=e.ktx2Buffer,i=e.supportedTargetFormats,o;try{o=function(e){let t=new Uint8Array(e.buffer,e.byteOffset,l.length);if(t[0]!==l[0]||t[1]!==l[1]||t[2]!==l[2]||t[3]!==l[3]||t[4]!==l[4]||t[5]!==l[5]||t[6]!==l[6]||t[7]!==l[7]||t[8]!==l[8]||t[9]!==l[9]||t[10]!==l[10]||t[11]!==l[11])throw Error("Missing KTX 2.0 identifier.");let r={vkFormat:0,typeSize:1,pixelWidth:0,pixelHeight:0,pixelDepth:0,layerCount:0,faceCount:1,levelCount:0,supercompressionScheme:0,levels:[],dataFormatDescriptor:[{vendorId:0,descriptorType:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],keyValue:{},globalData:null},n=17*Uint32Array.BYTES_PER_ELEMENT,_=new A(e,l.length,n,!0);r.vkFormat=_._nextUint32(),r.typeSize=_._nextUint32(),r.pixelWidth=_._nextUint32(),r.pixelHeight=_._nextUint32(),r.pixelDepth=_._nextUint32(),r.layerCount=_._nextUint32(),r.faceCount=_._nextUint32(),r.levelCount=_._nextUint32(),r.supercompressionScheme=_._nextUint32();let i=_._nextUint32(),o=_._nextUint32(),a=_._nextUint32(),s=_._nextUint32(),u=_._nextUint64(),R=_._nextUint64(),c=3*Math.max(r.levelCount,1)*8,T=new A(e,l.length+n,c,!0);for(let t=0,n=Math.max(r.levelCount,1);t<n;t++)r.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+T._nextUint64(),T._nextUint64()),uncompressedByteLength:T._nextUint64()});let f=new A(e,i,o,!0);f._skip(4);let p=f._nextUint16(),d=f._nextUint16(),B=f._nextUint16(),C=f._nextUint16(),G={vendorId:p,descriptorType:d,versionNumber:B,colorModel:f._nextUint8(),colorPrimaries:f._nextUint8(),transferFunction:f._nextUint8(),flags:f._nextUint8(),texelBlockDimension:[f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8()],bytesPlane:[f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8()],samples:[]},M=(C/4-6)/4;for(let e=0;e<M;e++){let t={bitOffset:f._nextUint16(),bitLength:f._nextUint8(),channelType:f._nextUint8(),samplePosition:[f._nextUint8(),f._nextUint8(),f._nextUint8(),f._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&t.channelType?(t.sampleLower=f._nextInt32(),t.sampleUpper=f._nextInt32()):(t.sampleLower=f._nextUint32(),t.sampleUpper=f._nextUint32()),G.samples[e]=t}r.dataFormatDescriptor.length=0,r.dataFormatDescriptor.push(G);let h=new A(e,a,s,!0);for(;h._offset<s;){let e=h._nextUint32(),t=h._scan(e),n=O(t);if(r.keyValue[n]=h._nextUint8Array(e-t.byteLength-1),n.match(/^ktx/i)){let e=O(r.keyValue[n]);r.keyValue[n]=e.substring(0,e.lastIndexOf("\0"))}let _=e%4?4-e%4:0;h._skip(_)}if(R<=0)return r;let K=new A(e,u,R,!0),F=K._nextUint16(),N=K._nextUint16(),y=K._nextUint32(),E=K._nextUint32(),v=K._nextUint32(),P=K._nextUint32(),b=[];for(let e=0,t=Math.max(r.levelCount,1);e<t;e++)b.push({imageFlags:K._nextUint32(),rgbSliceByteOffset:K._nextUint32(),rgbSliceByteLength:K._nextUint32(),alphaSliceByteOffset:K._nextUint32(),alphaSliceByteLength:K._nextUint32()});let S=u+K._offset,V=S+y,m=V+E,U=m+v;return r.globalData={endpointCount:F,selectorCount:N,imageDescs:b,endpointsData:new Uint8Array(e.buffer,e.byteOffset+S,y),selectorsData:new Uint8Array(e.buffer,e.byteOffset+V,E),tablesData:new Uint8Array(e.buffer,e.byteOffset+m,v),extendedData:new Uint8Array(e.buffer,e.byteOffset+U,P)},r}(_)}catch{throw new r("Invalid KTX2 file.")}if(0!==o.layerCount)throw new r("KTX2 texture arrays are not supported.");if(0!==o.pixelDepth)throw new r("KTX2 3D textures are unsupported.");let s=o.dataFormatDescriptor[0],u=Array(o.levelCount);return 0===o.vkFormat&&(163===s.colorModel||166===s.colorModel)?function(e,t,n,_,i,o){let s=new _.KTX2File(e),u=s.getWidth(),R=s.getHeight(),c=s.getLevels(),f=s.getHasAlpha();if(!(u>0)||!(R>0)||!(c>0))throw s.close(),s.delete(),new r("Invalid KTX2 file");let A,l,O=t.dataFormatDescriptor[0],p=_.transcoder_texture_format;if(163===O.colorModel)if(n.etc)A=f?T.RGBA8_ETC2_EAC:T.RGB8_ETC2,l=f?p.cTFETC2_RGBA:p.cTFETC1_RGB;else if(n.etc1&&!f)A=T.RGB_ETC1,l=p.cTFETC1_RGB;else if(n.s3tc)A=f?T.RGBA_DXT5:T.RGB_DXT1,l=f?p.cTFBC3_RGBA:p.cTFBC1_RGB;else if(n.pvrtc)A=f?T.RGBA_PVRTC_4BPPV1:T.RGB_PVRTC_4BPPV1,l=f?p.cTFPVRTC1_4_RGBA:p.cTFPVRTC1_4_RGB;else if(n.astc)A=T.RGBA_ASTC,l=p.cTFASTC_4x4_RGBA;else if(n.bc7)A=T.RGBA_BC7,l=p.cTFBC7_RGBA;else throw new r("No transcoding format target available for ETC1S compressed ktx2.");else if(166===O.colorModel)if(n.astc)A=T.RGBA_ASTC,l=p.cTFASTC_4x4_RGBA;else if(n.bc7)A=T.RGBA_BC7,l=p.cTFBC7_RGBA;else if(n.s3tc)A=f?T.RGBA_DXT5:T.RGB_DXT1,l=f?p.cTFBC3_RGBA:p.cTFBC1_RGB;else if(n.etc)A=f?T.RGBA8_ETC2_EAC:T.RGB8_ETC2,l=f?p.cTFETC2_RGBA:p.cTFETC1_RGB;else if(n.etc1&&!f)A=T.RGB_ETC1,l=p.cTFETC1_RGB;else if(n.pvrtc)A=f?T.RGBA_PVRTC_4BPPV1:T.RGB_PVRTC_4BPPV1,l=f?p.cTFPVRTC1_4_RGBA:p.cTFPVRTC1_4_RGB;else throw new r("No transcoding format target available for UASTC compressed ktx2.");if(!s.startTranscoding())throw s.close(),s.delete(),new r("startTranscoding() failed");for(let e=0;e<t.levels.length;++e){let n={};o[e]=n,u=t.pixelWidth>>e,R=t.pixelHeight>>e;let _=new Uint8Array(s.getImageTranscodedSizeInBytes(e,0,0,l.value));if(!a(s.transcodeImage(_,e,0,0,l.value,0,-1,-1)))throw new r("transcodeImage() failed.");i.push(_.buffer),n[B[0]]={internalFormat:A,width:u,height:R,levelBuffer:_}}s.close(),s.delete()}(_,o,i,p,t,u):(t.push(_.buffer),function(e,t){let r=e.vkFormat===f.VK_FORMAT_R8G8B8_SRGB?T.RGB:T.RGBA,n;e.vkFormat===f.VK_FORMAT_R8G8B8A8_UNORM?n=R.UNSIGNED_BYTE:e.vkFormat===f.VK_FORMAT_R16G16B16A16_SFLOAT?n=R.HALF_FLOAT:e.vkFormat===f.VK_FORMAT_R32G32B32A32_SFLOAT&&(n=R.FLOAT);for(let _=0;_<e.levels.length;++_){let i={};t[_]=i;let o=e.levels[_].levelData,s=e.pixelWidth>>_,u=e.pixelHeight>>_,c=s*u*T.componentsLength(r);for(let t=0;t<e.faceCount;++t){let _=o.byteOffset+c*e.typeSize*t,T;T=a(n)&&1!==R.sizeInBytes(n)?2===R.sizeInBytes(n)?new Uint16Array(o.buffer,_,c):new Float32Array(o.buffer,_,c):new Uint8Array(o.buffer,_,c),i[B[t]]={internalFormat:r,datatype:n,width:s,height:u,levelBuffer:T}}}}(o,u)),u}(e,t)});export{G as default};