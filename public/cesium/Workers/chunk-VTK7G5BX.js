import{a as t}from"./chunk-QORMFUM4.js";import{a as e}from"./chunk-AZLP5742.js";import{a as i,b as o}from"./chunk-KWAHJ72S.js";import{a as r}from"./chunk-MKDADUG3.js";import{e as n}from"./chunk-XRRBRTKL.js";var s={},a=new o,h=new o,l=[,,],g=[,,],u={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};s.computePositions=function(s,p,m,c,f,A){let d=function(t,s,l,g){let u=(s=e(s,i.equalsEpsilon)).length;if(u<2)return;let p=n(g),m=n(l),c=Array(u),f=Array(u),A=Array(u),d=s[0];c[0]=d;let y=t.cartesianToCartographic(d,a);m&&(y.height=l[0]),f[0]=y.height,p?A[0]=g[0]:A[0]=0;let P=f[0]===A[0],j=1;for(let e=1;e<u;++e){let i=s[e],n=t.cartesianToCartographic(i,h);m&&(n.height=l[e]),P=P&&0===n.height,r.equalsEpsilon(y.latitude,n.latitude,r.EPSILON10)&&r.equalsEpsilon(y.longitude,n.longitude,r.EPSILON10)?y.height<n.height&&(f[j-1]=n.height):(c[j]=i,f[j]=n.height,p?A[j]=g[e]:A[j]=0,P=P&&f[j]===A[j],o.clone(n,y),++j)}if(!(P||j<2))return c.length=j,f.length=j,A.length=j,{positions:c,topHeights:f,bottomHeights:A}}(s,p,m,c);if(!n(d))return;p=d.positions,m=d.topHeights,c=d.bottomHeights;let y=p.length,P,j,v=r.chordLength(f,s.maximumRadius);if(u.minDistance=v,u.ellipsoid=s,A){let e=0,i;for(i=0;i<y-1;i++)e+=t.numberOfPoints(p[i],p[i+1],v)+1;P=new Float64Array(3*e),j=new Float64Array(3*e),u.positions=l,u.height=g;let o=0;for(i=0;i<y-1;i++){l[0]=p[i],l[1]=p[i+1],g[0]=m[i],g[1]=m[i+1];let e=t.generateArc(u);P.set(e,o),g[0]=c[i],g[1]=c[i+1],j.set(t.generateArc(u),o),o+=e.length}}else u.positions=p,u.height=m,P=new Float64Array(t.generateArc(u)),u.height=c,j=new Float64Array(t.generateArc(u));return{bottomPositions:j,topPositions:P,numCorners:y-2}};var p=s;export{p as a};