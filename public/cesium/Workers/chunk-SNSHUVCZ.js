import{a as t}from"./chunk-APG2S62J.js";import{a as e}from"./chunk-SXKYZMEL.js";import{a as r}from"./chunk-4MJDNHOT.js";import{b as i,c as n,d as o}from"./chunk-EDF5FKWJ.js";import{b as a,d as s}from"./chunk-XQIJGAVD.js";import{a as f,b as h,g as u}from"./chunk-UTYWXSQT.js";import{a as p}from"./chunk-RCHWDG3R.js";import{a as l,e as c,f as m}from"./chunk-KWAHJ72S.js";import{a as w}from"./chunk-MKDADUG3.js";import{a as d,b as _}from"./chunk-NOIUI5SY.js";import{e as g}from"./chunk-XRRBRTKL.js";function y(t){this.planes=t??[]}var v=[new l,new l,new l];l.clone(l.UNIT_X,v[0]),l.clone(l.UNIT_Y,v[1]),l.clone(l.UNIT_Z,v[2]);var b=new l,x=new l,O=new e(new l(1,0,0),0);function E(t){t=t??m.EMPTY_OBJECT,this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=t.near??1,this._near=this.near,this.far=t.far??5e8,this._far=this.far,this._cullingVolume=new y,this._orthographicMatrix=new h}function R(t){if(!g(t.right)||!g(t.left)||!g(t.top)||!g(t.bottom)||!g(t.near)||!g(t.far))throw new d("right, left, top, bottom, near, or far parameters are not set.");if(t.top!==t._top||t.bottom!==t._bottom||t.left!==t._left||t.right!==t._right||t.near!==t._near||t.far!==t._far){if(t.left>t.right)throw new d("right must be greater than left.");if(t.bottom>t.top)throw new d("top must be greater than bottom.");if(t.near<=0||t.near>t.far)throw new d("near must be greater than zero and less than far.");t._left=t.left,t._right=t.right,t._top=t.top,t._bottom=t.bottom,t._near=t.near,t._far=t.far,t._orthographicMatrix=h.computeOrthographicOffCenter(t.left,t.right,t.bottom,t.top,t.near,t.far,t._orthographicMatrix)}}y.fromBoundingSphere=function(t,e){if(!g(t))throw new d("boundingSphere is required.");g(e)||(e=new y);let r=v.length,i=e.planes;i.length=2*r;let n=t.center,o=t.radius,a=0;for(let t=0;t<r;++t){let e=v[t],r=i[a],s=i[a+1];g(r)||(r=i[a]=new f),g(s)||(s=i[a+1]=new f),l.multiplyByScalar(e,-o,b),l.add(n,b,b),r.x=e.x,r.y=e.y,r.z=e.z,r.w=-l.dot(e,b),l.multiplyByScalar(e,o,b),l.add(n,b,b),s.x=-e.x,s.y=-e.y,s.z=-e.z,s.w=-l.dot(l.negate(e,x),b),a+=2}return e},y.prototype.computeVisibility=function(t){if(!g(t))throw new d("boundingVolume is required.");let r=this.planes,i=!1;for(let n=0,o=r.length;n<o;++n){let o=t.intersectPlane(e.fromCartesian4(r[n],O));if(o===a.OUTSIDE)return a.OUTSIDE;o===a.INTERSECTING&&(i=!0)}return i?a.INTERSECTING:a.INSIDE},y.prototype.computeVisibilityWithPlaneMask=function(t,r){if(!g(t))throw new d("boundingVolume is required.");if(!g(r))throw new d("parentPlaneMask is required.");if(r===y.MASK_OUTSIDE||r===y.MASK_INSIDE)return r;let i=y.MASK_INSIDE,n=this.planes;for(let o=0,s=n.length;o<s;++o){let s=o<31?1<<o:0;if(o<31&&(r&s)==0)continue;let f=t.intersectPlane(e.fromCartesian4(n[o],O));if(f===a.OUTSIDE)return y.MASK_OUTSIDE;f===a.INTERSECTING&&(i|=s)}return i},y.MASK_OUTSIDE=0xffffffff,y.MASK_INSIDE=0,y.MASK_INDETERMINATE=0x7fffffff,Object.defineProperties(E.prototype,{projectionMatrix:{get:function(){return R(this),this._orthographicMatrix}}});var z=new l,C=new l,F=new l,q=new l;function k(t){t=t??m.EMPTY_OBJECT,this._offCenterFrustum=new E,this.width=t.width,this._width=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=t.near??1,this._near=this.near,this.far=t.far??5e8,this._far=this.far}function T(t){if(!g(t.width)||!g(t.aspectRatio)||!g(t.near)||!g(t.far))throw new d("width, aspectRatio, near, or far parameters are not set.");let e=t._offCenterFrustum;if(t.width!==t._width||t.aspectRatio!==t._aspectRatio||t.near!==t._near||t.far!==t._far){if(t.aspectRatio<0)throw new d("aspectRatio must be positive.");if(t.near<0||t.near>t.far)throw new d("near must be greater than zero and less than far.");t._aspectRatio=t.aspectRatio,t._width=t.width,t._near=t.near,t._far=t.far;let r=1/t.aspectRatio;e.right=.5*t.width,e.left=-e.right,e.top=r*e.right,e.bottom=-e.top,e.near=t.near,e.far=t.far}}E.prototype.computeCullingVolume=function(t,e,r){if(!g(t))throw new d("position is required.");if(!g(e))throw new d("direction is required.");if(!g(r))throw new d("up is required.");let i=this._cullingVolume.planes,n=this.top,o=this.bottom,a=this.right,s=this.left,h=this.near,u=this.far,p=l.cross(e,r,z);l.normalize(p,p),l.multiplyByScalar(e,h,C),l.add(t,C,C),l.multiplyByScalar(p,s,F),l.add(C,F,F);let c=i[0];return g(c)||(c=i[0]=new f),c.x=p.x,c.y=p.y,c.z=p.z,c.w=-l.dot(p,F),l.multiplyByScalar(p,a,F),l.add(C,F,F),g(c=i[1])||(c=i[1]=new f),c.x=-p.x,c.y=-p.y,c.z=-p.z,c.w=-l.dot(l.negate(p,q),F),l.multiplyByScalar(r,o,F),l.add(C,F,F),g(c=i[2])||(c=i[2]=new f),c.x=r.x,c.y=r.y,c.z=r.z,c.w=-l.dot(r,F),l.multiplyByScalar(r,n,F),l.add(C,F,F),g(c=i[3])||(c=i[3]=new f),c.x=-r.x,c.y=-r.y,c.z=-r.z,c.w=-l.dot(l.negate(r,q),F),g(c=i[4])||(c=i[4]=new f),c.x=e.x,c.y=e.y,c.z=e.z,c.w=-l.dot(e,C),l.multiplyByScalar(e,u,F),l.add(t,F,F),g(c=i[5])||(c=i[5]=new f),c.x=-e.x,c.y=-e.y,c.z=-e.z,c.w=-l.dot(l.negate(e,q),F),this._cullingVolume},E.prototype.getPixelDimensions=function(t,e,r,i,n){if(R(this),!g(t)||!g(e))throw new d("Both drawingBufferWidth and drawingBufferHeight are required.");if(t<=0)throw new d("drawingBufferWidth must be greater than zero.");if(e<=0)throw new d("drawingBufferHeight must be greater than zero.");if(!g(r))throw new d("distance is required.");if(!g(i))throw new d("pixelRatio is required.");if(i<=0)throw new d("pixelRatio must be greater than zero.");if(!g(n))throw new d("A result object is required.");let o=this.right-this.left,a=i*(this.top-this.bottom)/e;return n.x=i*o/t,n.y=a,n},E.prototype.clone=function(t){return g(t)||(t=new E),t.left=this.left,t.right=this.right,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},E.prototype.equals=function(t){return g(t)&&t instanceof E&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},E.prototype.equalsEpsilon=function(t,e,r){return t===this||g(t)&&t instanceof E&&w.equalsEpsilon(this.right,t.right,e,r)&&w.equalsEpsilon(this.left,t.left,e,r)&&w.equalsEpsilon(this.top,t.top,e,r)&&w.equalsEpsilon(this.bottom,t.bottom,e,r)&&w.equalsEpsilon(this.near,t.near,e,r)&&w.equalsEpsilon(this.far,t.far,e,r)},k.packedLength=4,k.pack=function(t,e,r){return _.typeOf.object("value",t),_.defined("array",e),r=r??0,e[r++]=t.width,e[r++]=t.aspectRatio,e[r++]=t.near,e[r]=t.far,e},k.unpack=function(t,e,r){return _.defined("array",t),e=e??0,g(r)||(r=new k),r.width=t[e++],r.aspectRatio=t[e++],r.near=t[e++],r.far=t[e],r},Object.defineProperties(k.prototype,{projectionMatrix:{get:function(){return T(this),this._offCenterFrustum.projectionMatrix}},offCenterFrustum:{get:function(){return T(this),this._offCenterFrustum}}}),k.prototype.computeCullingVolume=function(t,e,r){return T(this),this._offCenterFrustum.computeCullingVolume(t,e,r)},k.prototype.getPixelDimensions=function(t,e,r,i,n){return T(this),this._offCenterFrustum.getPixelDimensions(t,e,r,i,n)},k.prototype.clone=function(t){return g(t)||(t=new k),t.aspectRatio=this.aspectRatio,t.width=this.width,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._width=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},k.prototype.equals=function(t){return!!g(t)&&t instanceof k&&(T(this),T(t),this.width===t.width&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},k.prototype.equalsEpsilon=function(t,e,r){return!!g(t)&&t instanceof k&&(T(this),T(t),w.equalsEpsilon(this.width,t.width,e,r)&&w.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,r)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,r))};var S=k;function P(t){t=t??m.EMPTY_OBJECT,this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=t.near??1,this._near=this.near,this.far=t.far??5e8,this._far=this.far,this._cullingVolume=new y,this._perspectiveMatrix=new h,this._infinitePerspective=new h}function M(t){if(!g(t.right)||!g(t.left)||!g(t.top)||!g(t.bottom)||!g(t.near)||!g(t.far))throw new d("right, left, top, bottom, near, or far parameters are not set.");let{top:e,bottom:r,right:i,left:n,near:o,far:a}=t;if(e!==t._top||r!==t._bottom||n!==t._left||i!==t._right||o!==t._near||a!==t._far){if(t.near<=0||t.near>t.far)throw new d("near must be greater than zero and less than far.");t._left=n,t._right=i,t._top=e,t._bottom=r,t._near=o,t._far=a,t._perspectiveMatrix=h.computePerspectiveOffCenter(n,i,r,e,o,a,t._perspectiveMatrix),t._infinitePerspective=h.computeInfinitePerspectiveOffCenter(n,i,r,e,o,t._infinitePerspective)}}Object.defineProperties(P.prototype,{projectionMatrix:{get:function(){return M(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return M(this),this._infinitePerspective}}});var B=new l,j=new l,D=new l,A=new l;function I(t){t=t??m.EMPTY_OBJECT,this._offCenterFrustum=new P,this.fov=t.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=t.near??1,this._near=this.near,this.far=t.far??5e8,this._far=this.far,this.xOffset=t.xOffset??0,this._xOffset=this.xOffset,this.yOffset=t.yOffset??0,this._yOffset=this.yOffset}function L(t){if(!g(t.fov)||!g(t.aspectRatio)||!g(t.near)||!g(t.far))throw new d("fov, aspectRatio, near, or far parameters are not set.");if(t.fov===t._fov&&t.aspectRatio===t._aspectRatio&&t.near===t._near&&t.far===t._far&&t.xOffset===t._xOffset&&t.yOffset===t._yOffset)return;if(_.typeOf.number.greaterThanOrEquals("fov",t.fov,0),_.typeOf.number.lessThan("fov",t.fov,Math.PI),_.typeOf.number.greaterThanOrEquals("aspectRatio",t.aspectRatio,0),_.typeOf.number.greaterThanOrEquals("near",t.near,0),t.near>t.far)throw new d("near must be less than far.");t._aspectRatio=t.aspectRatio,t._fov=t.fov,t._fovy=t.aspectRatio<=1?t.fov:2*Math.atan(Math.tan(.5*t.fov)/t.aspectRatio),t._near=t.near,t._far=t.far,t._sseDenominator=2*Math.tan(.5*t._fovy),t._xOffset=t.xOffset,t._yOffset=t.yOffset;let e=t._offCenterFrustum;e.top=t.near*Math.tan(.5*t._fovy),e.bottom=-e.top,e.right=t.aspectRatio*e.top,e.left=-e.right,e.near=t.near,e.far=t.far,e.right+=t.xOffset,e.left+=t.xOffset,e.top+=t.yOffset,e.bottom+=t.yOffset}P.prototype.computeCullingVolume=function(t,e,r){if(!g(t))throw new d("position is required.");if(!g(e))throw new d("direction is required.");if(!g(r))throw new d("up is required.");let i=this._cullingVolume.planes,n=this.top,o=this.bottom,a=this.right,s=this.left,h=this.near,u=this.far,p=l.cross(e,r,B);l.multiplyByScalar(e,h,j),l.add(t,j,j),l.multiplyByScalar(e,u,D),l.add(t,D,D),l.multiplyByScalar(p,s,A),l.add(j,A,A),l.subtract(A,t,A),l.normalize(A,A),l.cross(A,r,A),l.normalize(A,A);let c=i[0];return g(c)||(c=i[0]=new f),c.x=A.x,c.y=A.y,c.z=A.z,c.w=-l.dot(A,t),l.multiplyByScalar(p,a,A),l.add(j,A,A),l.subtract(A,t,A),l.cross(r,A,A),l.normalize(A,A),g(c=i[1])||(c=i[1]=new f),c.x=A.x,c.y=A.y,c.z=A.z,c.w=-l.dot(A,t),l.multiplyByScalar(r,o,A),l.add(j,A,A),l.subtract(A,t,A),l.cross(p,A,A),l.normalize(A,A),g(c=i[2])||(c=i[2]=new f),c.x=A.x,c.y=A.y,c.z=A.z,c.w=-l.dot(A,t),l.multiplyByScalar(r,n,A),l.add(j,A,A),l.subtract(A,t,A),l.cross(A,p,A),l.normalize(A,A),g(c=i[3])||(c=i[3]=new f),c.x=A.x,c.y=A.y,c.z=A.z,c.w=-l.dot(A,t),g(c=i[4])||(c=i[4]=new f),c.x=e.x,c.y=e.y,c.z=e.z,c.w=-l.dot(e,j),l.negate(e,A),g(c=i[5])||(c=i[5]=new f),c.x=A.x,c.y=A.y,c.z=A.z,c.w=-l.dot(A,D),this._cullingVolume},P.prototype.getPixelDimensions=function(t,e,r,i,n){if(M(this),!g(t)||!g(e))throw new d("Both drawingBufferWidth and drawingBufferHeight are required.");if(t<=0)throw new d("drawingBufferWidth must be greater than zero.");if(e<=0)throw new d("drawingBufferHeight must be greater than zero.");if(!g(r))throw new d("distance is required.");if(!g(i))throw new d("pixelRatio is required");if(i<=0)throw new d("pixelRatio must be greater than zero.");if(!g(n))throw new d("A result object is required.");let o=1/this.near,a=this.top*o,s=2*i*r*a/e;return n.x=2*i*r*(a=this.right*o)/t,n.y=s,n},P.prototype.clone=function(t){return g(t)||(t=new P),t.right=this.right,t.left=this.left,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},P.prototype.equals=function(t){return g(t)&&t instanceof P&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},P.prototype.equalsEpsilon=function(t,e,r){return t===this||g(t)&&t instanceof P&&w.equalsEpsilon(this.right,t.right,e,r)&&w.equalsEpsilon(this.left,t.left,e,r)&&w.equalsEpsilon(this.top,t.top,e,r)&&w.equalsEpsilon(this.bottom,t.bottom,e,r)&&w.equalsEpsilon(this.near,t.near,e,r)&&w.equalsEpsilon(this.far,t.far,e,r)},I.packedLength=6,I.pack=function(t,e,r){return _.typeOf.object("value",t),_.defined("array",e),r=r??0,e[r++]=t.fov,e[r++]=t.aspectRatio,e[r++]=t.near,e[r++]=t.far,e[r++]=t.xOffset,e[r]=t.yOffset,e},I.unpack=function(t,e,r){return _.defined("array",t),e=e??0,g(r)||(r=new I),r.fov=t[e++],r.aspectRatio=t[e++],r.near=t[e++],r.far=t[e++],r.xOffset=t[e++],r.yOffset=t[e],r},Object.defineProperties(I.prototype,{projectionMatrix:{get:function(){return L(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return L(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return L(this),this._fovy}},sseDenominator:{get:function(){return L(this),this._sseDenominator}},offCenterFrustum:{get:function(){return L(this),this._offCenterFrustum}}}),I.prototype.computeCullingVolume=function(t,e,r){return L(this),this._offCenterFrustum.computeCullingVolume(t,e,r)},I.prototype.getPixelDimensions=function(t,e,r,i,n){return L(this),this._offCenterFrustum.getPixelDimensions(t,e,r,i,n)},I.prototype.clone=function(t){return g(t)||(t=new I),t.aspectRatio=this.aspectRatio,t.fov=this.fov,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._fov=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},I.prototype.equals=function(t){return!!g(t)&&t instanceof I&&(L(this),L(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},I.prototype.equalsEpsilon=function(t,e,r){return!!g(t)&&t instanceof I&&(L(this),L(t),w.equalsEpsilon(this.fov,t.fov,e,r)&&w.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,r)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,r))};var N=I;function V(e){_.typeOf.object("options",e),_.typeOf.object("options.frustum",e.frustum),_.typeOf.object("options.origin",e.origin),_.typeOf.object("options.orientation",e.orientation);let r=e.frustum,i=e.orientation,n=e.origin,o=e.vertexFormat??t.DEFAULT,a=e._drawNearPlane??!0,s,f;r instanceof N?(s=0,f=N.packedLength):r instanceof S&&(s=1,f=S.packedLength),this._frustumType=s,this._frustum=r.clone(),this._origin=l.clone(n),this._orientation=u.clone(i),this._drawNearPlane=a,this._vertexFormat=o,this._workerName="createFrustumGeometry",this.packedLength=2+f+l.packedLength+u.packedLength+t.packedLength}V.pack=function(e,r,i){_.typeOf.object("value",e),_.defined("array",r),i=i??0;let n=e._frustumType,o=e._frustum;return r[i++]=n,0===n?(N.pack(o,r,i),i+=N.packedLength):(S.pack(o,r,i),i+=S.packedLength),l.pack(e._origin,r,i),i+=l.packedLength,u.pack(e._orientation,r,i),i+=u.packedLength,t.pack(e._vertexFormat,r,i),r[i+=t.packedLength]=+!!e._drawNearPlane,r};var U=new N,K=new S,G=new u,J=new l,W=new t;function Y(t,e,r,i,n,o,a,s){let f=t/3*2;for(let n=0;n<4;++n)g(e)&&(e[t]=o.x,e[t+1]=o.y,e[t+2]=o.z),g(r)&&(r[t]=a.x,r[t+1]=a.y,r[t+2]=a.z),g(i)&&(i[t]=s.x,i[t+1]=s.y,i[t+2]=s.z),t+=3;n[f]=0,n[f+1]=0,n[f+2]=1,n[f+3]=0,n[f+4]=1,n[f+5]=1,n[f+6]=0,n[f+7]=1}V.unpack=function(e,r,i){_.defined("array",e),r=r??0;let n=e[r++],o;0===n?(o=N.unpack(e,r,U),r+=N.packedLength):(o=S.unpack(e,r,K),r+=S.packedLength);let a=l.unpack(e,r,J);r+=l.packedLength;let s=u.unpack(e,r,G);r+=u.packedLength;let f=t.unpack(e,r,W),h=1===e[r+=t.packedLength];if(!g(i))return new V({frustum:o,origin:a,orientation:s,vertexFormat:f,_drawNearPlane:h});let p=n===i._frustumType?i._frustum:void 0;return i._frustum=o.clone(p),i._frustumType=n,i._origin=l.clone(a,i._origin),i._orientation=u.clone(s,i._orientation),i._vertexFormat=t.clone(f,i._vertexFormat),i._drawNearPlane=h,i};var H=new c,X=new h,Q=new h,Z=new l,$=new l,tt=new l,te=new l,tr=new l,ti=new l,tn=[,,,],to=[,,,,];to[0]=new f(-1,-1,1,1),to[1]=new f(1,-1,1,1),to[2]=new f(1,1,1,1),to[3]=new f(-1,1,1,1);var ta=[,,,,];for(let t=0;t<4;++t)ta[t]=new f;V._computeNearFarPlanes=function(t,e,r,i,n,o,a,s){let u=c.fromQuaternion(e,H),p=o??Z,m=a??$,w=s??tt;p=c.getColumn(u,0,p),m=c.getColumn(u,1,m),w=c.getColumn(u,2,w),l.normalize(p,p),l.normalize(m,m),l.normalize(w,w),l.negate(p,p);let d=h.computeView(t,w,m,p,X),_,y,v=i.projectionMatrix;if(0===r){let t=h.multiply(v,d,Q);y=h.inverse(t,Q)}else _=h.inverseTransformation(d,Q);g(y)?(tn[0]=i.near,tn[1]=i.far):(tn[0]=0,tn[1]=i.near,tn[2]=i.far);for(let e=0;e<2;++e)for(let r=0;r<4;++r){let o=f.clone(to[r],ta[r]);if(g(y)){let r=1/(o=h.multiplyByVector(y,o,o)).w;l.multiplyByScalar(o,r,o),l.subtract(o,t,o),l.normalize(o,o);let i=l.dot(w,o);l.multiplyByScalar(o,tn[e]/i,o),l.add(o,t,o)}else{let t=i.offCenterFrustum;g(t)&&(i=t);let r=tn[e],n=tn[e+1];o.x=(o.x*(i.right-i.left)+i.left+i.right)*.5,o.y=(o.y*(i.top-i.bottom)+i.bottom+i.top)*.5,o.z=(o.z*(r-n)-r-n)*.5,o.w=1,h.multiplyByVector(_,o,o)}n[12*e+3*r]=o.x,n[12*e+3*r+1]=o.y,n[12*e+3*r+2]=o.z}},V.createGeometry=function(t){let e=t._frustumType,a=t._frustum,f=t._origin,h=t._orientation,u=t._drawNearPlane,c=t._vertexFormat,m=u?6:5,w=new Float64Array(72);V._computeNearFarPlanes(f,h,e,a,w);let d=24;w[24]=w[12],w[d+1]=w[13],w[d+2]=w[14],w[d+3]=w[0],w[d+4]=w[1],w[d+5]=w[2],w[d+6]=w[9],w[d+7]=w[10],w[d+8]=w[11],w[d+9]=w[21],w[d+10]=w[22],w[d+11]=w[23],w[d+=12]=w[15],w[d+1]=w[16],w[d+2]=w[17],w[d+3]=w[3],w[d+4]=w[4],w[d+5]=w[5],w[d+6]=w[0],w[d+7]=w[1],w[d+8]=w[2],w[d+9]=w[12],w[d+10]=w[13],w[d+11]=w[14],w[d+=12]=w[3],w[d+1]=w[4],w[d+2]=w[5],w[d+3]=w[15],w[d+4]=w[16],w[d+5]=w[17],w[d+6]=w[18],w[d+7]=w[19],w[d+8]=w[20],w[d+9]=w[6],w[d+10]=w[7],w[d+11]=w[8],w[d+=12]=w[6],w[d+1]=w[7],w[d+2]=w[8],w[d+3]=w[18],w[d+4]=w[19],w[d+5]=w[20],w[d+6]=w[21],w[d+7]=w[22],w[d+8]=w[23],w[d+9]=w[9],w[d+10]=w[10],w[d+11]=w[11],u||(w=w.subarray(12));let _=new r({position:new o({componentDatatype:p.DOUBLE,componentsPerAttribute:3,values:w})});if(g(c.normal)||g(c.tangent)||g(c.bitangent)||g(c.st)){let t=g(c.normal)?new Float32Array(12*m):void 0,e=g(c.tangent)?new Float32Array(12*m):void 0,r=g(c.bitangent)?new Float32Array(12*m):void 0,i=g(c.st)?new Float32Array(8*m):void 0,n=l.negate(Z,te),a=l.negate($,tr),s=l.negate(tt,ti);d=0,u&&(Y(d,t,e,r,i,s,Z,$),d+=12),Y(d,t,e,r,i,tt,n,$),Y(d+=12,t,e,r,i,n,s,$),Y(d+=12,t,e,r,i,a,s,n),Y(d+=12,t,e,r,i,Z,tt,$),Y(d+=12,t,e,r,i,$,tt,n),g(t)&&(_.normal=new o({componentDatatype:p.FLOAT,componentsPerAttribute:3,values:t})),g(e)&&(_.tangent=new o({componentDatatype:p.FLOAT,componentsPerAttribute:3,values:e})),g(r)&&(_.bitangent=new o({componentDatatype:p.FLOAT,componentsPerAttribute:3,values:r})),g(i)&&(_.st=new o({componentDatatype:p.FLOAT,componentsPerAttribute:2,values:i}))}let y=new Uint16Array(6*m);for(let t=0;t<m;++t){let e=6*t,r=4*t;y[e]=r,y[e+1]=r+1,y[e+2]=r+2,y[e+3]=r,y[e+4]=r+2,y[e+5]=r+3}return new n({attributes:_,indices:y,primitiveType:i.TRIANGLES,boundingSphere:s.fromVertices(w)})};var ts=V;export{S as a,N as b,ts as c};