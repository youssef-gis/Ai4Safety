import{a as e}from"./chunk-MKDADUG3.js";import{a as t,b as n}from"./chunk-NOIUI5SY.js";import{e as r}from"./chunk-XRRBRTKL.js";function i(e,t,n){this.x=e??0,this.y=t??0,this.z=n??0}i.fromSpherical=function(e,t){n.typeOf.object("spherical",e),r(t)||(t=new i);let a=e.clock,o=e.cone,u=e.magnitude??1,l=u*Math.sin(o);return t.x=l*Math.cos(a),t.y=l*Math.sin(a),t.z=u*Math.cos(o),t},i.fromElements=function(e,t,n,a){return r(a)?(a.x=e,a.y=t,a.z=n,a):new i(e,t,n)},i.clone=function(e,t){if(r(e))return r(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new i(e.x,e.y,e.z)},i.fromCartesian4=i.clone,i.packedLength=3,i.pack=function(e,t,r){return n.typeOf.object("value",e),n.defined("array",t),r=r??0,t[r++]=e.x,t[r++]=e.y,t[r]=e.z,t},i.unpack=function(e,t,a){return n.defined("array",e),t=t??0,r(a)||(a=new i),a.x=e[t++],a.y=e[t++],a.z=e[t],a},i.packArray=function(e,a){n.defined("array",e);let o=e.length,u=3*o;if(r(a)){if(!Array.isArray(a)&&a.length!==u)throw new t("If result is a typed array, it must have exactly array.length * 3 elements");a.length!==u&&(a.length=u)}else a=Array(u);for(let t=0;t<o;++t)i.pack(e[t],a,3*t);return a},i.unpackArray=function(e,a){if(n.defined("array",e),n.typeOf.number.greaterThanOrEquals("array.length",e.length,3),e.length%3!=0)throw new t("array length must be a multiple of 3.");let o=e.length;r(a)?a.length=o/3:a=Array(o/3);for(let t=0;t<o;t+=3){let n=t/3;a[n]=i.unpack(e,t,a[n])}return a},i.fromArray=i.unpack,i.maximumComponent=function(e){return n.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z)},i.minimumComponent=function(e){return n.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z)},i.minimumByComponent=function(e,t,r){return n.typeOf.object("first",e),n.typeOf.object("second",t),n.typeOf.object("result",r),r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r.z=Math.min(e.z,t.z),r},i.maximumByComponent=function(e,t,r){return n.typeOf.object("first",e),n.typeOf.object("second",t),n.typeOf.object("result",r),r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r.z=Math.max(e.z,t.z),r},i.clamp=function(t,r,i,a){n.typeOf.object("value",t),n.typeOf.object("min",r),n.typeOf.object("max",i),n.typeOf.object("result",a);let o=e.clamp(t.x,r.x,i.x),u=e.clamp(t.y,r.y,i.y),l=e.clamp(t.z,r.z,i.z);return a.x=o,a.y=u,a.z=l,a},i.magnitudeSquared=function(e){return n.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z},i.magnitude=function(e){return Math.sqrt(i.magnitudeSquared(e))};var a,o,u,l,c,s,f,y,p,d,m,h,b,O,g,x,j,w,z=new i;i.distance=function(e,t){return n.typeOf.object("left",e),n.typeOf.object("right",t),i.subtract(e,t,z),i.magnitude(z)},i.distanceSquared=function(e,t){return n.typeOf.object("left",e),n.typeOf.object("right",t),i.subtract(e,t,z),i.magnitudeSquared(z)},i.normalize=function(e,r){n.typeOf.object("cartesian",e),n.typeOf.object("result",r);let a=i.magnitude(e);if(r.x=e.x/a,r.y=e.y/a,r.z=e.z/a,isNaN(r.x)||isNaN(r.y)||isNaN(r.z))throw new t("normalized result is not a number");return r},i.dot=function(e,t){return n.typeOf.object("left",e),n.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z},i.multiplyComponents=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r},i.divideComponents=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x/t.x,r.y=e.y/t.y,r.z=e.z/t.z,r},i.add=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r},i.subtract=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r},i.multiplyByScalar=function(e,t,r){return n.typeOf.object("cartesian",e),n.typeOf.number("scalar",t),n.typeOf.object("result",r),r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r},i.divideByScalar=function(e,t,r){return n.typeOf.object("cartesian",e),n.typeOf.number("scalar",t),n.typeOf.object("result",r),r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r},i.negate=function(e,t){return n.typeOf.object("cartesian",e),n.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t},i.abs=function(e,t){return n.typeOf.object("cartesian",e),n.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};var q=new i;i.lerp=function(e,t,r,a){return n.typeOf.object("start",e),n.typeOf.object("end",t),n.typeOf.number("t",r),n.typeOf.object("result",a),i.multiplyByScalar(t,r,q),a=i.multiplyByScalar(e,1-r,a),i.add(q,a,a)};var S=new i,v=new i;i.angleBetween=function(e,t){n.typeOf.object("left",e),n.typeOf.object("right",t),i.normalize(e,S),i.normalize(t,v);let r=i.dot(S,v);return Math.atan2(i.magnitude(i.cross(S,v,S)),r)};var A=new i;i.mostOrthogonalAxis=function(e,t){n.typeOf.object("cartesian",e),n.typeOf.object("result",t);let r=i.normalize(e,A);return i.abs(r,r),t=r.x<=r.y?r.x<=r.z?i.clone(i.UNIT_X,t):i.clone(i.UNIT_Z,t):r.y<=r.z?i.clone(i.UNIT_Y,t):i.clone(i.UNIT_Z,t)},i.projectVector=function(e,t,r){n.defined("a",e),n.defined("b",t),n.defined("result",r);let a=i.dot(e,t)/i.dot(t,t);return i.multiplyByScalar(t,a,r)},i.equals=function(e,t){return e===t||r(e)&&r(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},i.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]},i.equalsEpsilon=function(t,n,i,a){return t===n||r(t)&&r(n)&&e.equalsEpsilon(t.x,n.x,i,a)&&e.equalsEpsilon(t.y,n.y,i,a)&&e.equalsEpsilon(t.z,n.z,i,a)},i.cross=function(e,t,r){n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r);let i=e.x,a=e.y,o=e.z,u=t.x,l=t.y,c=t.z;return r.x=a*c-o*l,r.y=o*u-i*c,r.z=i*l-a*u,r},i.midpoint=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=(e.x+t.x)*.5,r.y=(e.y+t.y)*.5,r.z=(e.z+t.z)*.5,r},i.fromDegrees=function(t,r,a,o,u){return n.typeOf.number("longitude",t),n.typeOf.number("latitude",r),t=e.toRadians(t),r=e.toRadians(r),i.fromRadians(t,r,a,o,u)};var M=new i,E=new i;i._ellipsoidRadiiSquared=new i(0x24ffb2985f71,0x24ffb2985f71,40408299984661.445),i.fromRadians=function(e,t,a,o,u){n.typeOf.number("longitude",e),n.typeOf.number("latitude",t),a=a??0;let l=r(o)?o.radiiSquared:i._ellipsoidRadiiSquared,c=Math.cos(t);M.x=c*Math.cos(e),M.y=c*Math.sin(e),M.z=Math.sin(t),M=i.normalize(M,M),i.multiplyComponents(l,M,E);let s=Math.sqrt(i.dot(M,E));return E=i.divideByScalar(E,s,E),M=i.multiplyByScalar(M,a,M),r(u)||(u=new i),i.add(E,M,u)},i.fromDegreesArray=function(e,a,o){if(n.defined("coordinates",e),e.length<2||e.length%2!=0)throw new t("the number of coordinates must be a multiple of 2 and at least 2");let u=e.length;r(o)?o.length=u/2:o=Array(u/2);for(let t=0;t<u;t+=2){let n=e[t],r=e[t+1],u=t/2;o[u]=i.fromDegrees(n,r,0,a,o[u])}return o},i.fromRadiansArray=function(e,a,o){if(n.defined("coordinates",e),e.length<2||e.length%2!=0)throw new t("the number of coordinates must be a multiple of 2 and at least 2");let u=e.length;r(o)?o.length=u/2:o=Array(u/2);for(let t=0;t<u;t+=2){let n=e[t],r=e[t+1],u=t/2;o[u]=i.fromRadians(n,r,0,a,o[u])}return o},i.fromDegreesArrayHeights=function(e,a,o){if(n.defined("coordinates",e),e.length<3||e.length%3!=0)throw new t("the number of coordinates must be a multiple of 3 and at least 3");let u=e.length;r(o)?o.length=u/3:o=Array(u/3);for(let t=0;t<u;t+=3){let n=e[t],r=e[t+1],u=e[t+2],l=t/3;o[l]=i.fromDegrees(n,r,u,a,o[l])}return o},i.fromRadiansArrayHeights=function(e,a,o){if(n.defined("coordinates",e),e.length<3||e.length%3!=0)throw new t("the number of coordinates must be a multiple of 3 and at least 3");let u=e.length;r(o)?o.length=u/3:o=Array(u/3);for(let t=0;t<u;t+=3){let n=e[t],r=e[t+1],u=e[t+2],l=t/3;o[l]=i.fromRadians(n,r,u,a,o[l])}return o},i.ZERO=Object.freeze(new i(0,0,0)),i.ONE=Object.freeze(new i(1,1,1)),i.UNIT_X=Object.freeze(new i(1,0,0)),i.UNIT_Y=Object.freeze(new i(0,1,0)),i.UNIT_Z=Object.freeze(new i(0,0,1)),i.prototype.clone=function(e){return i.clone(this,e)},i.prototype.equals=function(e){return i.equals(this,e)},i.prototype.equalsEpsilon=function(e,t,n){return i.equalsEpsilon(this,e,t,n)},i.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z})`};var _=i,R=new _,T=new _,N=function(n,i,a,o,u){if(!r(n))throw new t("cartesian is required.");if(!r(i))throw new t("oneOverRadii is required.");if(!r(a))throw new t("oneOverRadiiSquared is required.");if(!r(o))throw new t("centerToleranceSquared is required.");let l=n.x,c=n.y,s=n.z,f=i.x,y=i.y,p=i.z,d=l*l*f*f,m=c*c*y*y,h=s*s*p*p,b=d+m+h,O=Math.sqrt(1/b),g=_.multiplyByScalar(n,O,R);if(b<o)return isFinite(O)?_.clone(g,u):void 0;let x=a.x,j=a.y,w=a.z;T.x=g.x*x*2,T.y=g.y*j*2,T.z=g.z*w*2;let z=(1-O)*_.magnitude(n)/(.5*_.magnitude(T)),q=0,S,v,A,M,E,N,I,C,F,B;do z-=q,v=1/(1+z*x),A=1/(1+z*j),M=1/(1+z*w),E=v*v,N=A*A,I=M*M,C=E*v,F=N*A,B=I*M,q=(S=d*E+m*N+h*I-1)/(-2*(d*C*x+m*F*j+h*B*w));while(Math.abs(S)>e.EPSILON12);return r(u)?(u.x=l*v,u.y=c*A,u.z=s*M,u):new _(l*v,c*A,s*M)};function I(e,t,n){this.longitude=e??0,this.latitude=t??0,this.height=n??0}I.fromRadians=function(e,t,i,a){return n.typeOf.number("longitude",e),n.typeOf.number("latitude",t),i=i??0,r(a)?(a.longitude=e,a.latitude=t,a.height=i,a):new I(e,t,i)},I.fromDegrees=function(t,r,i,a){return n.typeOf.number("longitude",t),n.typeOf.number("latitude",r),t=e.toRadians(t),r=e.toRadians(r),I.fromRadians(t,r,i,a)};var C=new _,F=new _,B=new _;I._ellipsoidOneOverRadii=new _(1/6378137,1/6378137,1/6356752.314245179),I._ellipsoidOneOverRadiiSquared=new _(1/0x24ffb2985f71,1/0x24ffb2985f71,24747391015697002e-30),I._ellipsoidCenterToleranceSquared=e.EPSILON1,I.fromCartesian=function(t,n,i){let a=r(n)?n.oneOverRadii:I._ellipsoidOneOverRadii,o=r(n)?n.oneOverRadiiSquared:I._ellipsoidOneOverRadiiSquared,u=N(t,a,o,r(n)?n._centerToleranceSquared:I._ellipsoidCenterToleranceSquared,F);if(!r(u))return;let l=_.multiplyComponents(u,o,C);l=_.normalize(l,l);let c=_.subtract(t,u,B),s=Math.atan2(l.y,l.x),f=Math.asin(l.z),y=e.sign(_.dot(c,t))*_.magnitude(c);return r(i)?(i.longitude=s,i.latitude=f,i.height=y,i):new I(s,f,y)},I.toCartesian=function(e,t,r){return n.defined("cartographic",e),_.fromRadians(e.longitude,e.latitude,e.height,t,r)},I.clone=function(e,t){if(r(e))return r(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new I(e.longitude,e.latitude,e.height)},I.equals=function(e,t){return e===t||r(e)&&r(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},I.equalsEpsilon=function(e,t,n){return n=n??0,e===t||r(e)&&r(t)&&Math.abs(e.longitude-t.longitude)<=n&&Math.abs(e.latitude-t.latitude)<=n&&Math.abs(e.height-t.height)<=n},I.ZERO=Object.freeze(new I(0,0,0)),I.prototype.clone=function(e){return I.clone(this,e)},I.prototype.equals=function(e){return I.equals(this,e)},I.prototype.equalsEpsilon=function(e,t){return I.equalsEpsilon(this,e,t)},I.prototype.toString=function(){return`(${this.longitude}, ${this.latitude}, ${this.height})`};var U=I;function k(e,t){this.x=e??0,this.y=t??0}k.fromElements=function(e,t,n){return r(n)?(n.x=e,n.y=t,n):new k(e,t)},k.clone=function(e,t){if(r(e))return r(t)?(t.x=e.x,t.y=e.y,t):new k(e.x,e.y)},k.fromCartesian3=k.clone,k.fromCartesian4=k.clone,k.packedLength=2,k.pack=function(e,t,r){return n.typeOf.object("value",e),n.defined("array",t),r=r??0,t[r++]=e.x,t[r]=e.y,t},k.unpack=function(e,t,i){return n.defined("array",e),t=t??0,r(i)||(i=new k),i.x=e[t++],i.y=e[t],i},k.packArray=function(e,i){n.defined("array",e);let a=e.length,o=2*a;if(r(i)){if(!Array.isArray(i)&&i.length!==o)throw new t("If result is a typed array, it must have exactly array.length * 2 elements");i.length!==o&&(i.length=o)}else i=Array(o);for(let t=0;t<a;++t)k.pack(e[t],i,2*t);return i},k.unpackArray=function(e,i){if(n.defined("array",e),n.typeOf.number.greaterThanOrEquals("array.length",e.length,2),e.length%2!=0)throw new t("array length must be a multiple of 2.");let a=e.length;r(i)?i.length=a/2:i=Array(a/2);for(let t=0;t<a;t+=2){let n=t/2;i[n]=k.unpack(e,t,i[n])}return i},k.fromArray=k.unpack,k.maximumComponent=function(e){return n.typeOf.object("cartesian",e),Math.max(e.x,e.y)},k.minimumComponent=function(e){return n.typeOf.object("cartesian",e),Math.min(e.x,e.y)},k.minimumByComponent=function(e,t,r){return n.typeOf.object("first",e),n.typeOf.object("second",t),n.typeOf.object("result",r),r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r},k.maximumByComponent=function(e,t,r){return n.typeOf.object("first",e),n.typeOf.object("second",t),n.typeOf.object("result",r),r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r},k.clamp=function(t,r,i,a){n.typeOf.object("value",t),n.typeOf.object("min",r),n.typeOf.object("max",i),n.typeOf.object("result",a);let o=e.clamp(t.x,r.x,i.x),u=e.clamp(t.y,r.y,i.y);return a.x=o,a.y=u,a},k.magnitudeSquared=function(e){return n.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y},k.magnitude=function(e){return Math.sqrt(k.magnitudeSquared(e))};var P=new k;k.distance=function(e,t){return n.typeOf.object("left",e),n.typeOf.object("right",t),k.subtract(e,t,P),k.magnitude(P)},k.distanceSquared=function(e,t){return n.typeOf.object("left",e),n.typeOf.object("right",t),k.subtract(e,t,P),k.magnitudeSquared(P)},k.normalize=function(e,r){n.typeOf.object("cartesian",e),n.typeOf.object("result",r);let i=k.magnitude(e);if(r.x=e.x/i,r.y=e.y/i,isNaN(r.x)||isNaN(r.y))throw new t("normalized result is not a number");return r},k.dot=function(e,t){return n.typeOf.object("left",e),n.typeOf.object("right",t),e.x*t.x+e.y*t.y},k.cross=function(e,t){return n.typeOf.object("left",e),n.typeOf.object("right",t),e.x*t.y-e.y*t.x},k.multiplyComponents=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x*t.x,r.y=e.y*t.y,r},k.divideComponents=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x/t.x,r.y=e.y/t.y,r},k.add=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x+t.x,r.y=e.y+t.y,r},k.subtract=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x-t.x,r.y=e.y-t.y,r},k.multiplyByScalar=function(e,t,r){return n.typeOf.object("cartesian",e),n.typeOf.number("scalar",t),n.typeOf.object("result",r),r.x=e.x*t,r.y=e.y*t,r},k.divideByScalar=function(e,t,r){return n.typeOf.object("cartesian",e),n.typeOf.number("scalar",t),n.typeOf.object("result",r),r.x=e.x/t,r.y=e.y/t,r},k.negate=function(e,t){return n.typeOf.object("cartesian",e),n.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t},k.abs=function(e,t){return n.typeOf.object("cartesian",e),n.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};var W=new k;k.lerp=function(e,t,r,i){return n.typeOf.object("start",e),n.typeOf.object("end",t),n.typeOf.number("t",r),n.typeOf.object("result",i),k.multiplyByScalar(t,r,W),i=k.multiplyByScalar(e,1-r,i),k.add(W,i,i)};var $=new k,L=new k;k.angleBetween=function(t,r){return n.typeOf.object("left",t),n.typeOf.object("right",r),k.normalize(t,$),k.normalize(r,L),e.acosClamped(k.dot($,L))};var D=new k;k.mostOrthogonalAxis=function(e,t){n.typeOf.object("cartesian",e),n.typeOf.object("result",t);let r=k.normalize(e,D);return k.abs(r,r),t=r.x<=r.y?k.clone(k.UNIT_X,t):k.clone(k.UNIT_Y,t)},k.equals=function(e,t){return e===t||r(e)&&r(t)&&e.x===t.x&&e.y===t.y},k.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]},k.equalsEpsilon=function(t,n,i,a){return t===n||r(t)&&r(n)&&e.equalsEpsilon(t.x,n.x,i,a)&&e.equalsEpsilon(t.y,n.y,i,a)},k.ZERO=Object.freeze(new k(0,0)),k.ONE=Object.freeze(new k(1,1)),k.UNIT_X=Object.freeze(new k(1,0)),k.UNIT_Y=Object.freeze(new k(0,1)),k.prototype.clone=function(e){return k.clone(this,e)},k.prototype.equals=function(e){return k.equals(this,e)},k.prototype.equalsEpsilon=function(e,t,n){return k.equalsEpsilon(this,e,t,n)},k.prototype.toString=function(){return`(${this.x}, ${this.y})`};var Y=k;function Z(t,r,i,a){r=r??0,i=i??0,a=a??0,n.typeOf.number.greaterThanOrEquals("x",r,0),n.typeOf.number.greaterThanOrEquals("y",i,0),n.typeOf.number.greaterThanOrEquals("z",a,0),t._radii=new _(r,i,a),t._radiiSquared=new _(r*r,i*i,a*a),t._radiiToTheFourth=new _(r*r*r*r,i*i*i*i,a*a*a*a),t._oneOverRadii=new _(0===r?0:1/r,0===i?0:1/i,0===a?0:1/a),t._oneOverRadiiSquared=new _(0===r?0:1/(r*r),0===i?0:1/(i*i),0===a?0:1/(a*a)),t._minimumRadius=Math.min(r,i,a),t._maximumRadius=Math.max(r,i,a),t._centerToleranceSquared=e.EPSILON1,0!==t._radiiSquared.z&&(t._squaredXOverSquaredZ=t._radiiSquared.x/t._radiiSquared.z)}function V(e,t,n){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,Z(this,e,t,n)}Object.defineProperties(V.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),V.clone=function(e,t){if(!r(e))return;let n=e._radii;return r(t)?(_.clone(n,t._radii),_.clone(e._radiiSquared,t._radiiSquared),_.clone(e._radiiToTheFourth,t._radiiToTheFourth),_.clone(e._oneOverRadii,t._oneOverRadii),_.clone(e._oneOverRadiiSquared,t._oneOverRadiiSquared),t._minimumRadius=e._minimumRadius,t._maximumRadius=e._maximumRadius,t._centerToleranceSquared=e._centerToleranceSquared,t):new V(n.x,n.y,n.z)},V.fromCartesian3=function(e,t){return r(t)||(t=new V),r(e)&&Z(t,e.x,e.y,e.z),t},V.WGS84=Object.freeze(new V(6378137,6378137,6356752.314245179)),V.UNIT_SPHERE=Object.freeze(new V(1,1,1)),V.MOON=Object.freeze(new V(e.LUNAR_RADIUS,e.LUNAR_RADIUS,e.LUNAR_RADIUS)),V.MARS=Object.freeze(new V(3396190,3396190,3376200)),V._default=V.WGS84,Object.defineProperties(V,{default:{get:function(){return V._default},set:function(e){n.typeOf.object("value",e),V._default=e,_._ellipsoidRadiiSquared=e.radiiSquared,U._ellipsoidOneOverRadii=e.oneOverRadii,U._ellipsoidOneOverRadiiSquared=e.oneOverRadiiSquared,U._ellipsoidCenterToleranceSquared=e._centerToleranceSquared}}}),V.prototype.clone=function(e){return V.clone(this,e)},V.packedLength=_.packedLength,V.pack=function(e,t,r){return n.typeOf.object("value",e),n.defined("array",t),r=r??0,_.pack(e._radii,t,r),t},V.unpack=function(e,t,r){n.defined("array",e),t=t??0;let i=_.unpack(e,t);return V.fromCartesian3(i,r)},V.prototype.geocentricSurfaceNormal=_.normalize,V.prototype.geodeticSurfaceNormalCartographic=function(e,t){n.typeOf.object("cartographic",e);let i=e.longitude,a=e.latitude,o=Math.cos(a),u=o*Math.cos(i),l=o*Math.sin(i),c=Math.sin(a);return r(t)||(t=new _),t.x=u,t.y=l,t.z=c,_.normalize(t,t)},V.prototype.geodeticSurfaceNormal=function(i,a){if(n.typeOf.object("cartesian",i),isNaN(i.x)||isNaN(i.y)||isNaN(i.z))throw new t("cartesian has a NaN component");if(!_.equalsEpsilon(i,_.ZERO,e.EPSILON14))return r(a)||(a=new _),a=_.multiplyComponents(i,this._oneOverRadiiSquared,a),_.normalize(a,a)};var X=new _,G=new _;V.prototype.cartographicToCartesian=function(e,t){this.geodeticSurfaceNormalCartographic(e,X),_.multiplyComponents(this._radiiSquared,X,G);let n=Math.sqrt(_.dot(X,G));return _.divideByScalar(G,n,G),_.multiplyByScalar(X,e.height,X),r(t)||(t=new _),_.add(G,X,t)},V.prototype.cartographicArrayToCartesianArray=function(e,t){n.defined("cartographics",e);let i=e.length;r(t)?t.length=i:t=Array(i);for(let n=0;n<i;n++)t[n]=this.cartographicToCartesian(e[n],t[n]);return t};var H=new _,Q=new _,J=new _;V.prototype.cartesianToCartographic=function(t,n){let i=this.scaleToGeodeticSurface(t,Q);if(!r(i))return;let a=this.geodeticSurfaceNormal(i,H),o=_.subtract(t,i,J),u=Math.atan2(a.y,a.x),l=Math.asin(a.z),c=e.sign(_.dot(o,t))*_.magnitude(o);return r(n)?(n.longitude=u,n.latitude=l,n.height=c,n):new U(u,l,c)},V.prototype.cartesianArrayToCartographicArray=function(e,t){n.defined("cartesians",e);let i=e.length;r(t)?t.length=i:t=Array(i);for(let n=0;n<i;++n)t[n]=this.cartesianToCartographic(e[n],t[n]);return t},V.prototype.scaleToGeodeticSurface=function(e,t){return N(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},V.prototype.scaleToGeocentricSurface=function(e,t){n.typeOf.object("cartesian",e),r(t)||(t=new _);let i=e.x,a=e.y,o=e.z,u=this._oneOverRadiiSquared,l=1/Math.sqrt(i*i*u.x+a*a*u.y+o*o*u.z);return _.multiplyByScalar(e,l,t)},V.prototype.transformPositionToScaledSpace=function(e,t){return r(t)||(t=new _),_.multiplyComponents(e,this._oneOverRadii,t)},V.prototype.transformPositionFromScaledSpace=function(e,t){return r(t)||(t=new _),_.multiplyComponents(e,this._radii,t)},V.prototype.equals=function(e){return this===e||r(e)&&_.equals(this._radii,e._radii)},V.prototype.toString=function(){return this._radii.toString()},V.prototype.getSurfaceNormalIntersectionWithZAxis=function(i,a,o){if(n.typeOf.object("position",i),!e.equalsEpsilon(this._radii.x,this._radii.y,e.EPSILON15))throw new t("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");n.typeOf.number.greaterThan("Ellipsoid.radii.z",this._radii.z,0),a=a??0;let u=this._squaredXOverSquaredZ;if(r(o)||(o=new _),o.x=0,o.y=0,o.z=i.z*(1-u),!(Math.abs(o.z)>=this._radii.z-a))return o};var K=new _;V.prototype.getLocalCurvature=function(e,t){n.typeOf.object("surfacePosition",e),r(t)||(t=new Y);let i=this.getSurfaceNormalIntersectionWithZAxis(e,0,K),a=_.distance(e,i),o=this.minimumRadius*a/this.maximumRadius**2;return Y.fromElements(1/a,1/(a*o**2),t)};var ee=[.14887433898163,.43339539412925,.67940956829902,.86506336668898,.97390652851717,0],et=[.29552422471475,.26926671930999,.21908636251598,.14945134915058,.066671344308684,0];function en(e,t,r){n.typeOf.number("a",e),n.typeOf.number("b",t),n.typeOf.func("func",r);let i=.5*(t+e),a=.5*(t-e),o=0;for(let e=0;e<5;e++){let t=a*ee[e];o+=et[e]*(r(i+t)+r(i-t))}return o*a}V.prototype.surfaceArea=function(t){n.typeOf.object("rectangle",t);let r=t.west,i=t.east,a=t.south,o=t.north;for(;i<r;)i+=e.TWO_PI;let u=this._radiiSquared,l=u.x,c=u.y,s=u.z,f=l*c;return en(a,o,function(e){let t=Math.cos(e),n=Math.sin(e);return Math.cos(e)*en(r,i,function(e){let r=Math.cos(e),i=Math.sin(e);return Math.sqrt(f*n*n+s*(c*r*r+l*i*i)*t*t)})})};var er=V;function ei(e,t,n,r,i,a,o,u,l){this[0]=e??0,this[1]=r??0,this[2]=o??0,this[3]=t??0,this[4]=i??0,this[5]=u??0,this[6]=n??0,this[7]=a??0,this[8]=l??0}ei.packedLength=9,ei.pack=function(e,t,r){return n.typeOf.object("value",e),n.defined("array",t),r=r??0,t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t[r++]=e[4],t[r++]=e[5],t[r++]=e[6],t[r++]=e[7],t[r++]=e[8],t},ei.unpack=function(e,t,i){return n.defined("array",e),t=t??0,r(i)||(i=new ei),i[0]=e[t++],i[1]=e[t++],i[2]=e[t++],i[3]=e[t++],i[4]=e[t++],i[5]=e[t++],i[6]=e[t++],i[7]=e[t++],i[8]=e[t++],i},ei.packArray=function(e,i){n.defined("array",e);let a=e.length,o=9*a;if(r(i)){if(!Array.isArray(i)&&i.length!==o)throw new t("If result is a typed array, it must have exactly array.length * 9 elements");i.length!==o&&(i.length=o)}else i=Array(o);for(let t=0;t<a;++t)ei.pack(e[t],i,9*t);return i},ei.unpackArray=function(e,i){if(n.defined("array",e),n.typeOf.number.greaterThanOrEquals("array.length",e.length,9),e.length%9!=0)throw new t("array length must be a multiple of 9.");let a=e.length;r(i)?i.length=a/9:i=Array(a/9);for(let t=0;t<a;t+=9){let n=t/9;i[n]=ei.unpack(e,t,i[n])}return i},ei.clone=function(e,t){if(r(e))return r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new ei(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},ei.fromArray=ei.unpack,ei.fromColumnMajorArray=function(e,t){return n.defined("values",e),ei.clone(e,t)},ei.fromRowMajorArray=function(e,t){return n.defined("values",e),r(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new ei(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},ei.fromQuaternion=function(e,t){n.typeOf.object("quaternion",e);let i=e.x*e.x,a=e.x*e.y,o=e.x*e.z,u=e.x*e.w,l=e.y*e.y,c=e.y*e.z,s=e.y*e.w,f=e.z*e.z,y=e.z*e.w,p=e.w*e.w,d=i-l-f+p,m=2*(a-y),h=2*(o+s),b=2*(a+y),O=-i+l-f+p,g=2*(c-u),x=2*(o-s),j=2*(c+u),w=-i-l+f+p;return r(t)?(t[0]=d,t[1]=b,t[2]=x,t[3]=m,t[4]=O,t[5]=j,t[6]=h,t[7]=g,t[8]=w,t):new ei(d,m,h,b,O,g,x,j,w)},ei.fromHeadingPitchRoll=function(e,t){n.typeOf.object("headingPitchRoll",e);let i=Math.cos(-e.pitch),a=Math.cos(-e.heading),o=Math.cos(e.roll),u=Math.sin(-e.pitch),l=Math.sin(-e.heading),c=Math.sin(e.roll),s=i*a,f=-o*l+c*u*a,y=c*l+o*u*a,p=i*l,d=o*a+c*u*l,m=-c*a+o*u*l,h=-u,b=c*i,O=o*i;return r(t)?(t[0]=s,t[1]=p,t[2]=h,t[3]=f,t[4]=d,t[5]=b,t[6]=y,t[7]=m,t[8]=O,t):new ei(s,f,y,p,d,m,h,b,O)},ei.fromScale=function(e,t){return n.typeOf.object("scale",e),r(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new ei(e.x,0,0,0,e.y,0,0,0,e.z)},ei.fromUniformScale=function(e,t){return n.typeOf.number("scale",e),r(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new ei(e,0,0,0,e,0,0,0,e)},ei.fromCrossProduct=function(e,t){return n.typeOf.object("vector",e),r(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new ei(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},ei.fromRotationX=function(e,t){n.typeOf.number("angle",e);let i=Math.cos(e),a=Math.sin(e);return r(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=i,t[5]=a,t[6]=0,t[7]=-a,t[8]=i,t):new ei(1,0,0,0,i,-a,0,a,i)},ei.fromRotationY=function(e,t){n.typeOf.number("angle",e);let i=Math.cos(e),a=Math.sin(e);return r(t)?(t[0]=i,t[1]=0,t[2]=-a,t[3]=0,t[4]=1,t[5]=0,t[6]=a,t[7]=0,t[8]=i,t):new ei(i,0,a,0,1,0,-a,0,i)},ei.fromRotationZ=function(e,t){n.typeOf.number("angle",e);let i=Math.cos(e),a=Math.sin(e);return r(t)?(t[0]=i,t[1]=a,t[2]=0,t[3]=-a,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new ei(i,-a,0,a,i,0,0,0,1)},ei.toArray=function(e,t){return n.typeOf.object("matrix",e),r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},ei.getElementIndex=function(e,t){return n.typeOf.number.greaterThanOrEquals("row",t,0),n.typeOf.number.lessThanOrEquals("row",t,2),n.typeOf.number.greaterThanOrEquals("column",e,0),n.typeOf.number.lessThanOrEquals("column",e,2),3*e+t},ei.getColumn=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.number.greaterThanOrEquals("index",t,0),n.typeOf.number.lessThanOrEquals("index",t,2),n.typeOf.object("result",r);let i=3*t,a=e[i],o=e[i+1],u=e[i+2];return r.x=a,r.y=o,r.z=u,r},ei.setColumn=function(e,t,r,i){n.typeOf.object("matrix",e),n.typeOf.number.greaterThanOrEquals("index",t,0),n.typeOf.number.lessThanOrEquals("index",t,2),n.typeOf.object("cartesian",r),n.typeOf.object("result",i),i=ei.clone(e,i);let a=3*t;return i[a]=r.x,i[a+1]=r.y,i[a+2]=r.z,i},ei.getRow=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.number.greaterThanOrEquals("index",t,0),n.typeOf.number.lessThanOrEquals("index",t,2),n.typeOf.object("result",r);let i=e[t],a=e[t+3],o=e[t+6];return r.x=i,r.y=a,r.z=o,r},ei.setRow=function(e,t,r,i){return n.typeOf.object("matrix",e),n.typeOf.number.greaterThanOrEquals("index",t,0),n.typeOf.number.lessThanOrEquals("index",t,2),n.typeOf.object("cartesian",r),n.typeOf.object("result",i),(i=ei.clone(e,i))[t]=r.x,i[t+3]=r.y,i[t+6]=r.z,i};var ea=new _;ei.setScale=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.object("scale",t),n.typeOf.object("result",r);let i=ei.getScale(e,ea),a=t.x/i.x,o=t.y/i.y,u=t.z/i.z;return r[0]=e[0]*a,r[1]=e[1]*a,r[2]=e[2]*a,r[3]=e[3]*o,r[4]=e[4]*o,r[5]=e[5]*o,r[6]=e[6]*u,r[7]=e[7]*u,r[8]=e[8]*u,r};var eo=new _;ei.setUniformScale=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.number("scale",t),n.typeOf.object("result",r);let i=ei.getScale(e,eo),a=t/i.x,o=t/i.y,u=t/i.z;return r[0]=e[0]*a,r[1]=e[1]*a,r[2]=e[2]*a,r[3]=e[3]*o,r[4]=e[4]*o,r[5]=e[5]*o,r[6]=e[6]*u,r[7]=e[7]*u,r[8]=e[8]*u,r};var eu=new _;ei.getScale=function(e,t){return n.typeOf.object("matrix",e),n.typeOf.object("result",t),t.x=_.magnitude(_.fromElements(e[0],e[1],e[2],eu)),t.y=_.magnitude(_.fromElements(e[3],e[4],e[5],eu)),t.z=_.magnitude(_.fromElements(e[6],e[7],e[8],eu)),t};var el=new _;ei.getMaximumScale=function(e){return ei.getScale(e,el),_.maximumComponent(el)};var ec=new _;ei.setRotation=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.object("result",r);let i=ei.getScale(e,ec);return r[0]=t[0]*i.x,r[1]=t[1]*i.x,r[2]=t[2]*i.x,r[3]=t[3]*i.y,r[4]=t[4]*i.y,r[5]=t[5]*i.y,r[6]=t[6]*i.z,r[7]=t[7]*i.z,r[8]=t[8]*i.z,r};var es=new _;ei.getRotation=function(e,t){n.typeOf.object("matrix",e),n.typeOf.object("result",t);let r=ei.getScale(e,es);return t[0]=e[0]/r.x,t[1]=e[1]/r.x,t[2]=e[2]/r.x,t[3]=e[3]/r.y,t[4]=e[4]/r.y,t[5]=e[5]/r.y,t[6]=e[6]/r.z,t[7]=e[7]/r.z,t[8]=e[8]/r.z,t},ei.multiply=function(e,t,r){n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r);let i=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],a=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],o=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],u=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],l=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],c=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],s=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],f=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],y=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return r[0]=i,r[1]=a,r[2]=o,r[3]=u,r[4]=l,r[5]=c,r[6]=s,r[7]=f,r[8]=y,r},ei.add=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r},ei.subtract=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r},ei.multiplyByVector=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.object("cartesian",t),n.typeOf.object("result",r);let i=t.x,a=t.y,o=t.z,u=e[0]*i+e[3]*a+e[6]*o,l=e[1]*i+e[4]*a+e[7]*o,c=e[2]*i+e[5]*a+e[8]*o;return r.x=u,r.y=l,r.z=c,r},ei.multiplyByScalar=function(e,t,r){return n.typeOf.object("matrix",e),n.typeOf.number("scalar",t),n.typeOf.object("result",r),r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r},ei.multiplyByScale=function(e,t,r){return n.typeOf.object("matrix",e),n.typeOf.object("scale",t),n.typeOf.object("result",r),r[0]=e[0]*t.x,r[1]=e[1]*t.x,r[2]=e[2]*t.x,r[3]=e[3]*t.y,r[4]=e[4]*t.y,r[5]=e[5]*t.y,r[6]=e[6]*t.z,r[7]=e[7]*t.z,r[8]=e[8]*t.z,r},ei.multiplyByUniformScale=function(e,t,r){return n.typeOf.object("matrix",e),n.typeOf.number("scale",t),n.typeOf.object("result",r),r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r},ei.negate=function(e,t){return n.typeOf.object("matrix",e),n.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},ei.transpose=function(e,t){n.typeOf.object("matrix",e),n.typeOf.object("result",t);let r=e[0],i=e[3],a=e[6],o=e[1],u=e[4],l=e[7],c=e[2],s=e[5],f=e[8];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=l,t[6]=c,t[7]=s,t[8]=f,t};var ef=[1,0,0],ey=[2,2,1],ep=new ei,ed=new ei;ei.computeEigenDecomposition=function(t,i){n.typeOf.object("matrix",t);let a=e.EPSILON20,o=0,u=0;r(i)||(i={});let l=i.unitary=ei.clone(ei.IDENTITY,i.unitary),c=i.diagonal=ei.clone(t,i.diagonal),s=a*function(e){let t=0;for(let n=0;n<9;++n){let r=e[n];t+=r*r}return Math.sqrt(t)}(c);for(;u<10&&function(e){let t=0;for(let n=0;n<3;++n){let r=e[ei.getElementIndex(ey[n],ef[n])];t+=2*r*r}return Math.sqrt(t)}(c)>s;)(function(t,n){let r=e.EPSILON15,i=0,a=1;for(let e=0;e<3;++e){let n=Math.abs(t[ei.getElementIndex(ey[e],ef[e])]);n>i&&(a=e,i=n)}let o=1,u=0,l=ef[a],c=ey[a];if(Math.abs(t[ei.getElementIndex(c,l)])>r){let e=(t[ei.getElementIndex(c,c)]-t[ei.getElementIndex(l,l)])/2/t[ei.getElementIndex(c,l)],n;o=1/Math.sqrt(1+(n=e<0?-1/(-e+Math.sqrt(1+e*e)):1/(e+Math.sqrt(1+e*e)))*n),u=n*o}(n=ei.clone(ei.IDENTITY,n))[ei.getElementIndex(l,l)]=n[ei.getElementIndex(c,c)]=o,n[ei.getElementIndex(c,l)]=u,n[ei.getElementIndex(l,c)]=-u})(c,ep),ei.transpose(ep,ed),ei.multiply(c,ep,c),ei.multiply(ed,c,c),ei.multiply(l,ep,l),++o>2&&(++u,o=0);return i},ei.abs=function(e,t){return n.typeOf.object("matrix",e),n.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},ei.determinant=function(e){n.typeOf.object("matrix",e);let t=e[0],r=e[3],i=e[6],a=e[1],o=e[4],u=e[7],l=e[2],c=e[5],s=e[8];return t*(o*s-c*u)+a*(c*i-r*s)+l*(r*u-o*i)},ei.inverse=function(r,i){n.typeOf.object("matrix",r),n.typeOf.object("result",i);let a=r[0],o=r[1],u=r[2],l=r[3],c=r[4],s=r[5],f=r[6],y=r[7],p=r[8],d=ei.determinant(r);if(Math.abs(d)<=e.EPSILON15)throw new t("matrix is not invertible");return i[0]=c*p-y*s,i[1]=y*u-o*p,i[2]=o*s-c*u,i[3]=f*s-l*p,i[4]=a*p-f*u,i[5]=l*u-a*s,i[6]=l*y-f*c,i[7]=f*o-a*y,i[8]=a*c-l*o,ei.multiplyByScalar(i,1/d,i)};var em=new ei;ei.inverseTranspose=function(e,t){return n.typeOf.object("matrix",e),n.typeOf.object("result",t),ei.inverse(ei.transpose(e,em),t)},ei.equals=function(e,t){return e===t||r(e)&&r(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},ei.equalsEpsilon=function(e,t,n){return n=n??0,e===t||r(e)&&r(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n},ei.IDENTITY=Object.freeze(new ei(1,0,0,0,1,0,0,0,1)),ei.ZERO=Object.freeze(new ei(0,0,0,0,0,0,0,0,0)),ei.COLUMN0ROW0=0,ei.COLUMN0ROW1=1,ei.COLUMN0ROW2=2,ei.COLUMN1ROW0=3,ei.COLUMN1ROW1=4,ei.COLUMN1ROW2=5,ei.COLUMN2ROW0=6,ei.COLUMN2ROW1=7,ei.COLUMN2ROW2=8,Object.defineProperties(ei.prototype,{length:{get:function(){return ei.packedLength}}}),ei.prototype.clone=function(e){return ei.clone(this,e)},ei.prototype.equals=function(e){return ei.equals(this,e)},ei.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},ei.prototype.equalsEpsilon=function(e,t){return ei.equalsEpsilon(this,e,t)},ei.prototype.toString=function(){return`(${this[0]}, ${this[3]}, ${this[6]})
(${this[1]}, ${this[4]}, ${this[7]})
(${this[2]}, ${this[5]}, ${this[8]})`};var eh=ei,eb={};eb.EMPTY_OBJECT=Object.freeze({}),eb.EMPTY_ARRAY=Object.freeze([]);var eO,eg=eb,ex={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},ej={};function ew(e){let t=e.split(".");for(let e=0,n=t.length;e<n;++e)t[e]=parseInt(t[e],10);return t}function ez(){if(!r(o)&&(o=!1,!eA())){let e=/ Chrome\/([\.0-9]+)/.exec(a.userAgent);null!==e&&(o=!0,u=ew(e[1]))}return o}function eq(){if(!r(l)&&(l=!1,!ez()&&!eA()&&/ Safari\/[\.0-9]+/.test(a.userAgent))){let e=/ Version\/([\.0-9]+)/.exec(a.userAgent);null!==e&&(l=!0,c=ew(e[1]))}return l}function eS(){if(!r(s)){s=!1;let e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(a.userAgent);null!==e&&(s=!0,(f=ew(e[1])).isNightly=!!e[2])}return s}function ev(){if(!r(y)){let e;y=!1,"Microsoft Internet Explorer"===a.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(a.userAgent))&&(y=!0,p=ew(e[1])):"Netscape"===a.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(a.userAgent))&&(y=!0,p=ew(e[1]))}return y}function eA(){if(!r(d)){d=!1;let e=/ Edg\/([\.0-9]+)/.exec(a.userAgent);null!==e&&(d=!0,m=ew(e[1]))}return d}function eM(){if(!r(h)){h=!1;let e=/Firefox\/([\.0-9]+)/.exec(a.userAgent);null!==e&&(h=!0,b=ew(e[1]))}return h}function eE(){if(!r(w)){let e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");let t=e.style.imageRendering;(w=r(t)&&""!==t)&&(j=t)}return w}function e_(){if(!e_.initialized)throw new t("You must call FeatureDetection.supportsWebP.initialize and wait for the promise to resolve before calling FeatureDetection.supportsWebP");return e_._result}Object.defineProperties(ej,{element:{get:function(){if(ej.supportsFullscreen())return document[ex.fullscreenElement]}},changeEventName:{get:function(){if(ej.supportsFullscreen())return ex.fullscreenchange}},errorEventName:{get:function(){if(ej.supportsFullscreen())return ex.fullscreenerror}},enabled:{get:function(){if(ej.supportsFullscreen())return document[ex.fullscreenEnabled]}},fullscreen:{get:function(){if(ej.supportsFullscreen())return null!==ej.element}}}),ej.supportsFullscreen=function(){if(r(eO))return eO;eO=!1;let e=document.body;if("function"==typeof e.requestFullscreen)return ex.requestFullscreen="requestFullscreen",ex.exitFullscreen="exitFullscreen",ex.fullscreenEnabled="fullscreenEnabled",ex.fullscreenElement="fullscreenElement",ex.fullscreenchange="fullscreenchange",ex.fullscreenerror="fullscreenerror",eO=!0;let t=["webkit","moz","o","ms","khtml"],n;for(let r=0,i=t.length;r<i;++r){let i=t[r];"function"==typeof e[n=`${i}RequestFullscreen`]?(ex.requestFullscreen=n,eO=!0):"function"==typeof e[n=`${i}RequestFullScreen`]&&(ex.requestFullscreen=n,eO=!0),"function"==typeof document[n=`${i}ExitFullscreen`]?ex.exitFullscreen=n:"function"==typeof document[n=`${i}CancelFullScreen`]&&(ex.exitFullscreen=n),void 0!==document[n=`${i}FullscreenEnabled`]?ex.fullscreenEnabled=n:void 0!==document[n=`${i}FullScreenEnabled`]&&(ex.fullscreenEnabled=n),void 0!==document[n=`${i}FullscreenElement`]?ex.fullscreenElement=n:void 0!==document[n=`${i}FullScreenElement`]&&(ex.fullscreenElement=n),n=`${i}fullscreenchange`,void 0!==document[`on${n}`]&&("ms"===i&&(n="MSFullscreenChange"),ex.fullscreenchange=n),n=`${i}fullscreenerror`,void 0!==document[`on${n}`]&&("ms"===i&&(n="MSFullscreenError"),ex.fullscreenerror=n)}return eO},ej.requestFullscreen=function(e,t){ej.supportsFullscreen()&&e[ex.requestFullscreen]({vrDisplay:t})},ej.exitFullscreen=function(){ej.supportsFullscreen()&&document[ex.exitFullscreen]()},ej._names=ex,a="u">typeof navigator?navigator:{},e_._promise=void 0,e_._result=void 0,e_.initialize=function(){return r(e_._promise)||(e_._promise=new Promise(e=>{let t=new Image;t.onload=function(){e_._result=t.width>0&&t.height>0,e(e_._result)},t.onerror=function(){e_._result=!1,e(e_._result)},t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"})),e_._promise},Object.defineProperties(e_,{initialized:{get:function(){return r(e_._result)}}});var eR=[];"u">typeof ArrayBuffer&&(eR.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"u">typeof Uint8ClampedArray&&eR.push(Uint8ClampedArray),"u">typeof Uint8ClampedArray&&eR.push(Uint8ClampedArray),"u">typeof BigInt64Array&&eR.push(BigInt64Array),"u">typeof BigUint64Array&&eR.push(BigUint64Array));var eT={isChrome:ez,chromeVersion:function(){return ez()&&u},isSafari:eq,safariVersion:function(){return eq()&&c},isWebkit:eS,webkitVersion:function(){return eS()&&f},isInternetExplorer:ev,internetExplorerVersion:function(){return ev()&&p},isEdge:eA,edgeVersion:function(){return eA()&&m},isFirefox:eM,firefoxVersion:function(){return eM()&&b},isWindows:function(){return r(O)||(O=/Windows/i.test(a.appVersion)),O},isIPadOrIOS:function(){return r(g)||(g="iPhone"===navigator.platform||"iPod"===navigator.platform||"iPad"===navigator.platform),g},hardwareConcurrency:a.hardwareConcurrency??3,supportsPointerEvents:function(){return r(x)||(x=!eM()&&"u">typeof PointerEvent&&(!r(a.pointerEnabled)||a.pointerEnabled)),x},supportsImageRenderingPixelated:eE,supportsWebP:e_,imageRenderingValue:function(){return eE()?j:void 0},typedArrayTypes:eR};eT.supportsBasis=function(e){return eT.supportsWebAssembly()&&e.context.supportsBasis},eT.supportsFullscreen=function(){return ej.supportsFullscreen()},eT.supportsTypedArrays=function(){return"u">typeof ArrayBuffer},eT.supportsBigInt64Array=function(){return"u">typeof BigInt64Array},eT.supportsBigUint64Array=function(){return"u">typeof BigUint64Array},eT.supportsBigInt=function(){return"u">typeof BigInt},eT.supportsWebWorkers=function(){return"u">typeof Worker},eT.supportsWebAssembly=function(){return"u">typeof WebAssembly},eT.supportsWebgl2=function(e){return n.defined("scene",e),e.context.webgl2},eT.supportsEsmWebWorkers=function(){return!eM()||parseInt(b)>=114};var eN=eT;export{_ as a,U as b,Y as c,er as d,eh as e,eg as f,eN as g};